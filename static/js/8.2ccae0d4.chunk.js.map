{"version":3,"sources":["../node_modules/@carto/airship-components/dist/esm-es5/styles-b283ec9e.js","../node_modules/@carto/airship-components/dist/esm-es5/constants-2231320f.js","../node_modules/@carto/airship-components/dist/esm-es5/as-histogram-widget.entry.js"],"names":["shadeOrBlend","p","from","to","pSBCr","d","l","length","RGB","split","i","parseFloat","slice","r","parseInt","Math","round","h","b","f","t","toString","undefined","DEFAULT_BAR_COLOR_HEX","DEFAULT_BACKGROUND_BAR_COLOR_HEX","DEFAULT_BAR_COLOR","DEFAULT_BACKGROUND_BAR_COLOR","DEFAULT_NUMBER_FORMAT","DEFAULT_DATE_FORMAT","AUTO_FORMAT","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","push","noevent","event","preventDefault","stopImmediatePropagation","dragDisable","view","root","document","documentElement","selection","select","on","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","constant","x","BrushEvent","target","type","nopropagation","noevent$1","MODE_DRAG","name","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","toucher","identifier","touch","touches","X","handles","map","input","output","xy","Y","cursors","overlay","s","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","svg","ownerSVGElement","hasAttribute","viewBox","baseVal","width","height","defaultTouchable","navigator","maxTouchPoints","local","node","__brush","parentNode","empty","extent","brushX","dim","touchending","filter","touchable","keys","listeners","dispatch","handleSize","brush","group","property","initialize","selectAll","data","enter","append","attr","merge","each","handle","exit","remove","redraw","started","touchmoved","touchended","emitter","that","args","clean","Emitter","state","active","arguments","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","__data__","mode","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","pointer","changedTouches","mouse","point0","point","emit","beforestart","moved","ended","keydowned","keyupped","interrupt","start","point1","abs","move","max","min","clearTimeout","end","keyCode","tween","selection0","selection1","interpolate","clear","prototype","starting","customEvent","keyModifiers","brushService","addBrush","onBrush","onBrushEnd","CUSTOM_HANDLE_WIDTH","CUSTOM_HANDLE_HEIGHT","X_PADDING","Y_PADDING","addBrushArea","container","brushArea","addCustomHandles","scale","bottomLine","customHandles","linesMargin","floor","handleGrab","getXDomain","getLowerBounds","isCategoricalData","every","_hasCategory","prepareData","hasRange","_hasRange","index","parsed","Object","assign","category","isBackgroundCompatible","backgroundData","isNull","isCategorical","dataService","getXScale","domain","linear","range","getYDomain","formatter","format","decimalFormatter","_delayFn","_d","conditionalFormatter","drawService","cleanAxes","yAxisSelection","generateYScale","axisOptions","HEIGHT","getBoundingClientRect","WIDTH","ticks","tickPadding","padding","yScale","axisLeft","tickSize","tickFormat","tickValues","values","renderBars","barsContainer","color","disableAnimation","className","barsSeparation","barWidth","bars","transition","duration","mergeSelection","minDomain","yZero","delay","renderPlot","renderXAxis","bins","customFormatter","xAxis","xScale","realScale","altScale","axisBottom","realValue","invert","collection","xOffset","textWidth","_i","textElements_1","renderYAxis","yAxis","updateAxes","xDomain","yDomain","xAxisSelection","nice","_isSelected","bucketIndex","_forEachRect","insideCallback","outsideCallback","nodes","nodeSelection","bb","left","right","top","bottom","interactionService","addTooltip","hasSelection","unselectedColor","setTooltip","_this","evt","clientX","clientY","anyHovered","boundingBox","selected","_color","tooltip","_a","setSelection","HistogramWidget","class_1","hostRef","registerInstance","showHeader","disableInteractivity","tooltipFormatter","isLoading","error","errorDescription","noDataHeaderMessage","noDataBodyMessage","responsive","clearText","selectedFormatter","_selectionFormatter","xAxisOptions","yAxisOptions","_firstDataSupplied","_muteSelectionChanged","_lastEmittedSelection","selectionEmpty","selectionFooter","_resizeRender","bind","_setTooltip","selectionChanged","createEvent","selectionInput","drawParametersChanged","_onBackgroundDataChanged","newBackgroundData","_prepareData","_onDataChanged","newData","oldData","onNewData","Boolean","_data","_backgroundData","_mockBackgroundData","newScale","binsScale","wasCategoricalData","_preadjustSelection","_dataJustChanged","_onColorChanged","newColor","incomingColor","_toColor","_onSelectedColorChanged","_barBackgroundColor","defaultFormatter","getSelection","_dataForSelection","_simplifySelection","_setSelection","emitSelection","some","clearSelection","xFormatter","_xFormatter","componentDidLoad","_hasDataToDisplay","requestAnimationFrame","_renderGraph","componentDidUpdate","componentWillLoad","addEventListener","componentDidUnload","removeEventListener","render","_isLoading","_renderHeader","_renderSelection","_renderContent","histogramClasses","svgClasses","xLabel","yLabel","contentFragment","_isEmpty","heading","class","ref","_renderLabels","_renderTooltip","formattedSelection","domainSelection","axisFormatter","showClear","onClear","bbox","firstRender","prevWidth","prevHeight","resizing","_generateYAxis","_renderXAxis","_onBrush","_onBrushEnd","_updateSelection","handleWidth","barBBox","_showTooltip","_hideTooltip","_selectionInData","_adjustSelection","_adjustSelectionValue","_hideCustomHandles","sourceEvent","d0","adjustedSelection","sameSelection","_updateHandles","nBuckets","findIndex","newSelection","_sameSelection","first","second","payload","_eventType","selectionValue","yCoord","spaceValues","_dataForDomain","window","barBoundingBox","tooltipElement","header","subheader","description","role","_parseTooltip","Array","isArray","text","_renderTooltipLine","fallbackColor","startsWith","match","variable","fallback","replace","trim","computed","getComputedStyle","el","getPropertyValue","toLowerCase","readableNumber","defineProperty","get","getElement","enumerable","configurable"],"mappings":"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","file":"static/js/8.2ccae0d4.chunk.js","sourcesContent":["// pSBC.js\n// From Pimped JavaScript (https://github.com/PimpTrizkit/PJs)\n// Usage: https://github.com/PimpTrizkit/PJs/wiki/12.-Shade,-Blend-and-Convert-a-Web-Color-(pSBC.js)\n/* tslint:disable */\nfunction shadeOrBlend(p, from, to) {\n    if (typeof (p) != \"number\" || p < -1 || p > 1 || typeof (from) != \"string\" || (from[0] != 'r' && from[0] != '#') || (to && typeof (to) != \"string\"))\n        return null; //ErrorCheck\n    var pSBCr = function (d) {\n        var l = d.length, RGB = {};\n        if (l > 9) {\n            d = d.split(\",\");\n            if (d.length < 3 || d.length > 4)\n                return null; //ErrorCheck\n            RGB[0] = i(d[0].split(\"(\")[1]), RGB[1] = i(d[1]), RGB[2] = i(d[2]), RGB[3] = d[3] ? parseFloat(d[3]) : -1;\n        }\n        else {\n            if (l == 8 || l == 6 || l < 4)\n                return null; //ErrorCheck\n            if (l < 6)\n                d = \"#\" + d[1] + d[1] + d[2] + d[2] + d[3] + d[3] + (l > 4 ? d[4] + \"\" + d[4] : \"\"); //3 or 4 digit\n            d = i(d.slice(1), 16), RGB[0] = d >> 16 & 255, RGB[1] = d >> 8 & 255, RGB[2] = d & 255, RGB[3] = -1;\n            if (l == 9 || l == 5)\n                RGB[3] = r((RGB[2] / 255) * 10000) / 10000, RGB[2] = RGB[1], RGB[1] = RGB[0], RGB[0] = d >> 24 & 255;\n        }\n        return RGB;\n    };\n    var i = parseInt, r = Math.round, h = from.length > 9, h = typeof (to) == \"string\" ? to.length > 9 ? true : to == \"c\" ? !h : false : h, b = p < 0, p = b ? p * -1 : p, to = to && to != \"c\" ? to : b ? \"#000000\" : \"#FFFFFF\", f = pSBCr(from), t = pSBCr(to);\n    if (!f || !t)\n        return null; //ErrorCheck\n    if (h)\n        return \"rgb\" + (f[3] > -1 || t[3] > -1 ? \"a(\" : \"(\") + r((t[0] - f[0]) * p + f[0]) + \",\" + r((t[1] - f[1]) * p + f[1]) + \",\" + r((t[2] - f[2]) * p + f[2]) + (f[3] < 0 && t[3] < 0 ? \")\" : \",\" + (f[3] > -1 && t[3] > -1 ? r(((t[3] - f[3]) * p + f[3]) * 10000) / 10000 : t[3] < 0 ? f[3] : t[3]) + \")\");\n    else\n        return \"#\" + (0x100000000 + r((t[0] - f[0]) * p + f[0]) * 0x1000000 + r((t[1] - f[1]) * p + f[1]) * 0x10000 + r((t[2] - f[2]) * p + f[2]) * 0x100 + (f[3] > -1 && t[3] > -1 ? r(((t[3] - f[3]) * p + f[3]) * 255) : t[3] > -1 ? r(t[3] * 255) : f[3] > -1 ? r(f[3] * 255) : 255)).toString(16).slice(1, f[3] > -1 || t[3] > -1 ? undefined : -2);\n}\n/* tslint:enable */\nexport { shadeOrBlend as s };\n","// This is the default value of --as--color--primary\nvar DEFAULT_BAR_COLOR_HEX = '#47DB99';\n// This is the default value of --as--color--complementary\nvar DEFAULT_BACKGROUND_BAR_COLOR_HEX = '#E2E6E3';\nvar DEFAULT_BAR_COLOR = \"var(--as--color--complementary, \" + DEFAULT_BAR_COLOR_HEX + \")\";\nvar DEFAULT_BACKGROUND_BAR_COLOR = \"var(--as-color--type-03, \" + DEFAULT_BACKGROUND_BAR_COLOR_HEX + \")\";\nvar DEFAULT_NUMBER_FORMAT = '%Q';\nvar DEFAULT_DATE_FORMAT = '%x';\nvar AUTO_FORMAT = 'auto';\nexport { AUTO_FORMAT as A, DEFAULT_BAR_COLOR as D, DEFAULT_BACKGROUND_BAR_COLOR as a, DEFAULT_NUMBER_FORMAT as b, DEFAULT_DATE_FORMAT as c, DEFAULT_BAR_COLOR_HEX as d, DEFAULT_BACKGROUND_BAR_COLOR_HEX as e };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './core-a69618da.js';\nimport { c as contentFragment } from './content.fragment-e220039c.js';\nimport { r as readableNumber } from './readable-number-b11b551f.js';\nimport { s as shadeOrBlend } from './styles-b283ec9e.js';\nimport { e as event, s as select, v as interpolate, w as customEvent, x as touch, y as mouse, l as linear, z as min, A as max, B as format } from './index-3374c455.js';\nimport { d as dispatch, i as interrupt } from './index-c73eaaa7.js';\nimport { b as axisBottom, a as axisLeft } from './index-87eae0eb.js';\nimport { D as DEFAULT_BAR_COLOR, a as DEFAULT_BACKGROUND_BAR_COLOR, d as DEFAULT_BAR_COLOR_HEX, e as DEFAULT_BACKGROUND_BAR_COLOR_HEX } from './constants-2231320f.js';\nfunction noevent() {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n    var root = view.document.documentElement, selection = select(view).on(\"dragstart.drag\", noevent, true);\n    if (\"onselectstart\" in root) {\n        selection.on(\"selectstart.drag\", noevent, true);\n    }\n    else {\n        root.__noselect = root.style.MozUserSelect;\n        root.style.MozUserSelect = \"none\";\n    }\n}\nfunction yesdrag(view, noclick) {\n    var root = view.document.documentElement, selection = select(view).on(\"dragstart.drag\", null);\n    if (noclick) {\n        selection.on(\"click.drag\", noevent, true);\n        setTimeout(function () { selection.on(\"click.drag\", null); }, 0);\n    }\n    if (\"onselectstart\" in root) {\n        selection.on(\"selectstart.drag\", null);\n    }\n    else {\n        root.style.MozUserSelect = root.__noselect;\n        delete root.__noselect;\n    }\n}\nfunction constant(x) {\n    return function () {\n        return x;\n    };\n}\nfunction BrushEvent(target, type, selection) {\n    this.target = target;\n    this.type = type;\n    this.selection = selection;\n}\nfunction nopropagation() {\n    event.stopImmediatePropagation();\n}\nfunction noevent$1() {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n}\nvar MODE_DRAG = { name: \"drag\" }, MODE_SPACE = { name: \"space\" }, MODE_HANDLE = { name: \"handle\" }, MODE_CENTER = { name: \"center\" };\nfunction number1(e) {\n    return [+e[0], +e[1]];\n}\nfunction number2(e) {\n    return [number1(e[0]), number1(e[1])];\n}\nfunction toucher(identifier) {\n    return function (target) {\n        return touch(target, event.touches, identifier);\n    };\n}\nvar X = {\n    name: \"x\",\n    handles: [\"w\", \"e\"].map(type),\n    input: function (x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n    output: function (xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\nvar Y = {\n    name: \"y\",\n    handles: [\"n\", \"s\"].map(type),\n    input: function (y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n    output: function (xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\nvar cursors = {\n    overlay: \"crosshair\",\n    selection: \"move\",\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n};\nvar flipX = {\n    e: \"w\",\n    w: \"e\",\n    nw: \"ne\",\n    ne: \"nw\",\n    se: \"sw\",\n    sw: \"se\"\n};\nvar flipY = {\n    n: \"s\",\n    s: \"n\",\n    nw: \"sw\",\n    ne: \"se\",\n    se: \"ne\",\n    sw: \"nw\"\n};\nvar signsX = {\n    overlay: +1,\n    selection: +1,\n    n: null,\n    e: +1,\n    s: null,\n    w: -1,\n    nw: -1,\n    ne: +1,\n    se: +1,\n    sw: -1\n};\nvar signsY = {\n    overlay: +1,\n    selection: +1,\n    n: -1,\n    e: null,\n    s: +1,\n    w: null,\n    nw: -1,\n    ne: -1,\n    se: +1,\n    sw: +1\n};\nfunction type(t) {\n    return { type: t };\n}\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n    return !event.ctrlKey && !event.button;\n}\nfunction defaultExtent() {\n    var svg = this.ownerSVGElement || this;\n    if (svg.hasAttribute(\"viewBox\")) {\n        svg = svg.viewBox.baseVal;\n        return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n    }\n    return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\nfunction defaultTouchable() {\n    return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n    while (!node.__brush)\n        if (!(node = node.parentNode))\n            return;\n    return node.__brush;\n}\nfunction empty(extent) {\n    return extent[0][0] === extent[1][0]\n        || extent[0][1] === extent[1][1];\n}\nfunction brushX() {\n    return brush(X);\n}\nfunction brush(dim) {\n    var extent = defaultExtent, filter = defaultFilter, touchable = defaultTouchable, keys = true, listeners = dispatch(\"start\", \"brush\", \"end\"), handleSize = 6, touchending;\n    function brush(group) {\n        var overlay = group\n            .property(\"__brush\", initialize)\n            .selectAll(\".overlay\")\n            .data([type(\"overlay\")]);\n        overlay.enter().append(\"rect\")\n            .attr(\"class\", \"overlay\")\n            .attr(\"pointer-events\", \"all\")\n            .attr(\"cursor\", cursors.overlay)\n            .merge(overlay)\n            .each(function () {\n            var extent = local(this).extent;\n            select(this)\n                .attr(\"x\", extent[0][0])\n                .attr(\"y\", extent[0][1])\n                .attr(\"width\", extent[1][0] - extent[0][0])\n                .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n        group.selectAll(\".selection\")\n            .data([type(\"selection\")])\n            .enter().append(\"rect\")\n            .attr(\"class\", \"selection\")\n            .attr(\"cursor\", cursors.selection)\n            .attr(\"fill\", \"#777\")\n            .attr(\"fill-opacity\", 0.3)\n            .attr(\"stroke\", \"#fff\")\n            .attr(\"shape-rendering\", \"crispEdges\");\n        var handle = group.selectAll(\".handle\")\n            .data(dim.handles, function (d) { return d.type; });\n        handle.exit().remove();\n        handle.enter().append(\"rect\")\n            .attr(\"class\", function (d) { return \"handle handle--\" + d.type; })\n            .attr(\"cursor\", function (d) { return cursors[d.type]; });\n        group\n            .each(redraw)\n            .attr(\"fill\", \"none\")\n            .attr(\"pointer-events\", \"all\")\n            .on(\"mousedown.brush\", started)\n            .filter(touchable)\n            .on(\"touchstart.brush\", started)\n            .on(\"touchmove.brush\", touchmoved)\n            .on(\"touchend.brush touchcancel.brush\", touchended)\n            .style(\"touch-action\", \"none\")\n            .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n    }\n    brush.move = function (group, selection) {\n        if (group.selection) {\n            group\n                .on(\"start.brush\", function () { emitter(this, arguments).beforestart().start(); })\n                .on(\"interrupt.brush end.brush\", function () { emitter(this, arguments).end(); })\n                .tween(\"brush\", function () {\n                var that = this, state = that.__brush, emit = emitter(that, arguments), selection0 = state.selection, selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent), i = interpolate(selection0, selection1);\n                function tween(t) {\n                    state.selection = t === 1 && selection1 === null ? null : i(t);\n                    redraw.call(that);\n                    emit.brush();\n                }\n                return selection0 !== null && selection1 !== null ? tween : tween(1);\n            });\n        }\n        else {\n            group\n                .each(function () {\n                var that = this, args = arguments, state = that.__brush, selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent), emit = emitter(that, args).beforestart();\n                interrupt(that);\n                state.selection = selection1 === null ? null : selection1;\n                redraw.call(that);\n                emit.start().brush().end();\n            });\n        }\n    };\n    brush.clear = function (group) {\n        brush.move(group, null);\n    };\n    function redraw() {\n        var group = select(this), selection = local(this).selection;\n        if (selection) {\n            group.selectAll(\".selection\")\n                .style(\"display\", null)\n                .attr(\"x\", selection[0][0])\n                .attr(\"y\", selection[0][1])\n                .attr(\"width\", selection[1][0] - selection[0][0])\n                .attr(\"height\", selection[1][1] - selection[0][1]);\n            group.selectAll(\".handle\")\n                .style(\"display\", null)\n                .attr(\"x\", function (d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n                .attr(\"y\", function (d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n                .attr(\"width\", function (d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n                .attr(\"height\", function (d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n        }\n        else {\n            group.selectAll(\".selection,.handle\")\n                .style(\"display\", \"none\")\n                .attr(\"x\", null)\n                .attr(\"y\", null)\n                .attr(\"width\", null)\n                .attr(\"height\", null);\n        }\n    }\n    function emitter(that, args, clean) {\n        return (!clean && that.__brush.emitter) || new Emitter(that, args);\n    }\n    function Emitter(that, args) {\n        this.that = that;\n        this.args = args;\n        this.state = that.__brush;\n        this.active = 0;\n    }\n    Emitter.prototype = {\n        beforestart: function () {\n            if (++this.active === 1)\n                this.state.emitter = this, this.starting = true;\n            return this;\n        },\n        start: function () {\n            if (this.starting)\n                this.starting = false, this.emit(\"start\");\n            else\n                this.emit(\"brush\");\n            return this;\n        },\n        brush: function () {\n            this.emit(\"brush\");\n            return this;\n        },\n        end: function () {\n            if (--this.active === 0)\n                delete this.state.emitter, this.emit(\"end\");\n            return this;\n        },\n        emit: function (type) {\n            customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n        }\n    };\n    function started() {\n        if (touchending && !event.touches)\n            return;\n        if (!filter.apply(this, arguments))\n            return;\n        var that = this, type = event.target.__data__.type, mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE), signX = dim === Y ? null : signsX[type], signY = dim === X ? null : signsY[type], state = local(that), extent = state.extent, selection = state.selection, W = extent[0][0], w0, w1, N = extent[0][1], n0, n1, E = extent[1][0], e0, e1, S = extent[1][1], s0, s1, dx = 0, dy = 0, moving, shifting = signX && signY && keys && event.shiftKey, lockX, lockY, pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse, point0 = pointer(that), point = point0, emit = emitter(that, arguments, true).beforestart();\n        if (type === \"overlay\") {\n            if (selection)\n                moving = true;\n            state.selection = selection = [\n                [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n                [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n            ];\n        }\n        else {\n            w0 = selection[0][0];\n            n0 = selection[0][1];\n            e0 = selection[1][0];\n            s0 = selection[1][1];\n        }\n        w1 = w0;\n        n1 = n0;\n        e1 = e0;\n        s1 = s0;\n        var group = select(that)\n            .attr(\"pointer-events\", \"none\");\n        var overlay = group.selectAll(\".overlay\")\n            .attr(\"cursor\", cursors[type]);\n        if (event.touches) {\n            emit.moved = moved;\n            emit.ended = ended;\n        }\n        else {\n            var view = select(event.view)\n                .on(\"mousemove.brush\", moved, true)\n                .on(\"mouseup.brush\", ended, true);\n            if (keys)\n                view\n                    .on(\"keydown.brush\", keydowned, true)\n                    .on(\"keyup.brush\", keyupped, true);\n            dragDisable(event.view);\n        }\n        nopropagation();\n        interrupt(that);\n        redraw.call(that);\n        emit.start();\n        function moved() {\n            var point1 = pointer(that);\n            if (shifting && !lockX && !lockY) {\n                if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1]))\n                    lockY = true;\n                else\n                    lockX = true;\n            }\n            point = point1;\n            moving = true;\n            noevent$1();\n            move();\n        }\n        function move() {\n            var t;\n            dx = point[0] - point0[0];\n            dy = point[1] - point0[1];\n            switch (mode) {\n                case MODE_SPACE:\n                case MODE_DRAG: {\n                    if (signX)\n                        dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n                    if (signY)\n                        dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n                    break;\n                }\n                case MODE_HANDLE: {\n                    if (signX < 0)\n                        dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n                    else if (signX > 0)\n                        dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n                    if (signY < 0)\n                        dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n                    else if (signY > 0)\n                        dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n                    break;\n                }\n                case MODE_CENTER: {\n                    if (signX)\n                        w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n                    if (signY)\n                        n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n                    break;\n                }\n            }\n            if (e1 < w1) {\n                signX *= -1;\n                t = w0, w0 = e0, e0 = t;\n                t = w1, w1 = e1, e1 = t;\n                if (type in flipX)\n                    overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n            }\n            if (s1 < n1) {\n                signY *= -1;\n                t = n0, n0 = s0, s0 = t;\n                t = n1, n1 = s1, s1 = t;\n                if (type in flipY)\n                    overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n            }\n            if (state.selection)\n                selection = state.selection; // May be set by brush.move!\n            if (lockX)\n                w1 = selection[0][0], e1 = selection[1][0];\n            if (lockY)\n                n1 = selection[0][1], s1 = selection[1][1];\n            if (selection[0][0] !== w1\n                || selection[0][1] !== n1\n                || selection[1][0] !== e1\n                || selection[1][1] !== s1) {\n                state.selection = [[w1, n1], [e1, s1]];\n                redraw.call(that);\n                emit.brush();\n            }\n        }\n        function ended() {\n            nopropagation();\n            if (event.touches) {\n                if (event.touches.length)\n                    return;\n                if (touchending)\n                    clearTimeout(touchending);\n                touchending = setTimeout(function () { touchending = null; }, 500); // Ghost clicks are delayed!\n            }\n            else {\n                yesdrag(event.view, moving);\n                view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n            }\n            group.attr(\"pointer-events\", \"all\");\n            overlay.attr(\"cursor\", cursors.overlay);\n            if (state.selection)\n                selection = state.selection; // May be set by brush.move (on start)!\n            if (empty(selection))\n                state.selection = null, redraw.call(that);\n            emit.end();\n        }\n        function keydowned() {\n            switch (event.keyCode) {\n                case 16: { // SHIFT\n                    shifting = signX && signY;\n                    break;\n                }\n                case 18: { // ALT\n                    if (mode === MODE_HANDLE) {\n                        if (signX)\n                            e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n                        if (signY)\n                            s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n                        mode = MODE_CENTER;\n                        move();\n                    }\n                    break;\n                }\n                case 32: { // SPACE; takes priority over ALT\n                    if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n                        if (signX < 0)\n                            e0 = e1 - dx;\n                        else if (signX > 0)\n                            w0 = w1 - dx;\n                        if (signY < 0)\n                            s0 = s1 - dy;\n                        else if (signY > 0)\n                            n0 = n1 - dy;\n                        mode = MODE_SPACE;\n                        overlay.attr(\"cursor\", cursors.selection);\n                        move();\n                    }\n                    break;\n                }\n                default: return;\n            }\n            noevent$1();\n        }\n        function keyupped() {\n            switch (event.keyCode) {\n                case 16: { // SHIFT\n                    if (shifting) {\n                        lockX = lockY = shifting = false;\n                        move();\n                    }\n                    break;\n                }\n                case 18: { // ALT\n                    if (mode === MODE_CENTER) {\n                        if (signX < 0)\n                            e0 = e1;\n                        else if (signX > 0)\n                            w0 = w1;\n                        if (signY < 0)\n                            s0 = s1;\n                        else if (signY > 0)\n                            n0 = n1;\n                        mode = MODE_HANDLE;\n                        move();\n                    }\n                    break;\n                }\n                case 32: { // SPACE\n                    if (mode === MODE_SPACE) {\n                        if (event.altKey) {\n                            if (signX)\n                                e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n                            if (signY)\n                                s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n                            mode = MODE_CENTER;\n                        }\n                        else {\n                            if (signX < 0)\n                                e0 = e1;\n                            else if (signX > 0)\n                                w0 = w1;\n                            if (signY < 0)\n                                s0 = s1;\n                            else if (signY > 0)\n                                n0 = n1;\n                            mode = MODE_HANDLE;\n                        }\n                        overlay.attr(\"cursor\", cursors[type]);\n                        move();\n                    }\n                    break;\n                }\n                default: return;\n            }\n            noevent$1();\n        }\n    }\n    function touchmoved() {\n        emitter(this, arguments).moved();\n    }\n    function touchended() {\n        emitter(this, arguments).ended();\n    }\n    function initialize() {\n        var state = this.__brush || { selection: null };\n        state.extent = number2(extent.apply(this, arguments));\n        state.dim = dim;\n        return state;\n    }\n    brush.extent = function (_) {\n        return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n    };\n    brush.filter = function (_) {\n        return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n    };\n    brush.handleSize = function (_) {\n        return arguments.length ? (handleSize = +_, brush) : handleSize;\n    };\n    brush.keyModifiers = function (_) {\n        return arguments.length ? (keys = !!_, brush) : keys;\n    };\n    brush.on = function () {\n        var value = listeners.on.apply(listeners, arguments);\n        return value === listeners ? brush : value;\n    };\n    return brush;\n}\nfunction addBrush(width, height, onBrush, onBrushEnd, CUSTOM_HANDLE_WIDTH, CUSTOM_HANDLE_HEIGHT, X_PADDING, Y_PADDING) {\n    return brushX()\n        .handleSize(CUSTOM_HANDLE_WIDTH)\n        .extent([[0, 0], [width - X_PADDING, height - Y_PADDING + (CUSTOM_HANDLE_HEIGHT / 2)]])\n        .on('brush', onBrush)\n        .on('end', onBrushEnd);\n}\nfunction addBrushArea(brush, container) {\n    var brushArea = container.select('g.brush');\n    if (brushArea.empty()) {\n        brushArea = container.append('g');\n        brushArea.attr('class', 'brush');\n    }\n    brushArea.call(brush);\n    return brushArea;\n}\nfunction addCustomHandles(brushArea, CUSTOM_HANDLE_WIDTH, CUSTOM_HANDLE_HEIGHT, scale) {\n    var bottomLine = brushArea.select('line.bottomline');\n    if (bottomLine.empty()) {\n        bottomLine = brushArea.append('line')\n            .attr('class', 'bottomline')\n            .attr('stroke-width', 4)\n            .style('opacity', 0)\n            .attr('pointer-events', 'none');\n    }\n    bottomLine\n        .attr('y1', scale(0))\n        .attr('y2', scale(0));\n    var customHandles = brushArea.selectAll('.handle--wrapper');\n    var linesMargin = Math.floor((CUSTOM_HANDLE_WIDTH - 2) / 2);\n    if (customHandles.empty()) {\n        customHandles = customHandles\n            .data([{ type: 'w' }, { type: 'e' }])\n            .enter()\n            .append('g')\n            .attr('class', 'handle--wrapper');\n        customHandles\n            .append('rect')\n            .attr('class', 'handle--custom')\n            .attr('width', CUSTOM_HANDLE_WIDTH)\n            .attr('height', CUSTOM_HANDLE_HEIGHT)\n            .attr('rx', 1)\n            .attr('ry', 1);\n        var handleGrab = customHandles\n            .append('g')\n            .attr('class', 'handle--grab');\n        for (var i = 0; i < 3; i++) {\n            handleGrab\n                .append('line')\n                .attr('transform', \"translate(0 \" + ((CUSTOM_HANDLE_HEIGHT / 2) - 2) + \")\")\n                .attr('x1', linesMargin)\n                .attr('y1', i * 2)\n                .attr('x2', CUSTOM_HANDLE_WIDTH - linesMargin)\n                .attr('y2', i * 2)\n                .attr('class', 'grab-line');\n        }\n    }\n    return customHandles;\n}\nvar brushService = { addBrush: addBrush, addBrushArea: addBrushArea, addCustomHandles: addCustomHandles };\nfunction binsScale(data) {\n    return linear()\n        .domain(getXDomain(data))\n        .range([0, data.length]);\n}\nfunction getXDomain(data) {\n    var start = (data.length > 0 ? data[0] : { start: 0 }).start;\n    var end = (data.length > 0 ? data[data.length - 1] : { end: 0 }).end;\n    return [start, end];\n}\nfunction getYDomain(data) {\n    return [Math.min(0, getLowerBounds(data)), max(data, function (d) { return d.value; })];\n}\nfunction getLowerBounds(data) {\n    return min(data, function (d) { return d.value; });\n}\nfunction getXScale(domain, width) {\n    return linear()\n        .domain(domain)\n        .range([0, width]);\n}\nfunction isCategoricalData(data) {\n    // Histogram data is categorical if all elements contain the category property\n    return data.every(_hasCategory);\n}\nfunction prepareData(data) {\n    var hasRange = data.every(_hasRange);\n    return data.map(function (d, index) {\n        var parsed = Object.assign({}, d);\n        if (!hasRange) {\n            parsed.start = index;\n            parsed.end = index + 1;\n        }\n        return parsed;\n    });\n}\nfunction _hasCategory(data) {\n    return data.category !== undefined;\n}\nfunction _hasRange(data) {\n    return data.start !== undefined && data.end !== undefined;\n}\n/**\n * Checks if an array of data and background data are compatible\n */\nfunction isBackgroundCompatible(data, backgroundData) {\n    var isNull = [data, backgroundData].map(function (value) { return value === null; });\n    // Both must be null or both must not be null\n    if (isNull[0] !== isNull[1]) {\n        return false;\n    }\n    // If both are null, they're automatically compatible\n    if (isNull[0] && isNull[1]) {\n        return true;\n    }\n    // They must have the same length\n    if (data.length !== backgroundData.length) {\n        return true;\n    }\n    var isCategorical = data.every(_hasCategory);\n    var hasRange = data.every(_hasRange);\n    for (var index = 0; index < data.length; index++) {\n        // If every element has start / end, they must be equal on both arrays for every element\n        if (hasRange) {\n            if (backgroundData[index].start !== data[index].start ||\n                backgroundData[index].end !== data[index].end) {\n                return false;\n            }\n        }\n        // If every element has category, they must be equal on both arrays for every element\n        if (isCategorical) {\n            if (backgroundData[index].category !== data[index].category) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nvar dataService = {\n    getLowerBounds: getLowerBounds,\n    getXDomain: getXDomain,\n    getXScale: getXScale,\n    getYDomain: getYDomain,\n    isBackgroundCompatible: isBackgroundCompatible,\n    isCategoricalData: isCategoricalData,\n    prepareData: prepareData,\n};\nvar BAR_WIDTH_THRESHOLD = 3;\nvar formatter = format('.2~s');\nvar decimalFormatter = format('.2');\nfunction cleanAxes(yAxisSelection) {\n    yAxisSelection.select('.domain').remove();\n}\nfunction updateAxes(container, xScale, yScale, xAxis, yAxis, xDomain, yDomain) {\n    var xAxisSelection = container.select('.xAxis');\n    var yAxisSelection = container.select('.yAxis');\n    // -- Update scales\n    yScale\n        .domain(yDomain)\n        .nice();\n    xScale\n        .domain(xDomain);\n    // -- Update axes\n    xAxisSelection\n        .call(xAxis);\n    yAxisSelection\n        .call(yAxis);\n}\nfunction renderPlot(container) {\n    if (container.select('.plot').empty()) {\n        var barsContainer = container\n            .append('g');\n        barsContainer\n            .attr('class', 'plot');\n        return barsContainer;\n    }\n    return container.select('.plot');\n}\nfunction renderBars(data, yScale, container, barsContainer, color, X_PADDING, Y_PADDING, disableAnimation, className) {\n    if (disableAnimation === void 0) { disableAnimation = false; }\n    if (className === void 0) { className = ''; }\n    if (!container || !container.node()) {\n        return;\n    }\n    var barsSeparation = 1;\n    var HEIGHT = container.node().getBoundingClientRect().height - Y_PADDING;\n    var WIDTH = container.node().getBoundingClientRect().width - X_PADDING;\n    data = data === null ? [] : data;\n    var barWidth = data.length === 0 ? WIDTH : WIDTH / data.length;\n    if (barWidth - barsSeparation < BAR_WIDTH_THRESHOLD) {\n        barsSeparation = 0;\n    }\n    // -- Draw bars\n    this.bars = barsContainer\n        .selectAll(\"rect.\" + className)\n        .data(data);\n    // -- Exit\n    this.bars.exit().remove()\n        .transition()\n        .duration(200);\n    // -- Enter\n    var mergeSelection = this.bars\n        .enter()\n        .append('rect')\n        .attr('y', HEIGHT)\n        .attr('height', 0)\n        .merge(this.bars)\n        .attr('class', \"bar \" + className)\n        .attr('x', function (_d, index) { return index * barWidth; })\n        .attr('width', function () { return Math.max(0, barWidth - barsSeparation); })\n        .style('fill', function (d) { return d.color || color; });\n    var minDomain = yScale.domain()[0];\n    var yZero = yScale(Math.max(0, minDomain));\n    (disableAnimation ? mergeSelection : mergeSelection.transition().delay(_delayFn))\n        .attr('height', function (d) {\n        return Math.abs(yScale(d.value) - yZero);\n    })\n        .attr('y', function (d) { return d.value > 0 ? yScale(d.value) : yZero; });\n    // -- Update\n    (disableAnimation ? this.bars : this.bars.transition().delay(_delayFn))\n        .attr('height', function (d) {\n        return Math.abs(yScale(d.value) - yZero);\n    })\n        .attr('y', function (d) { return d.value > 0 ? yScale(d.value) : yZero; });\n}\nfunction renderXAxis(container, domain, bins, X_PADDING, Y_PADDING, customFormatter, axisOptions) {\n    if (customFormatter === void 0) { customFormatter = conditionalFormatter; }\n    if (!container || !container.node()) {\n        return;\n    }\n    var HEIGHT = container.node().getBoundingClientRect().height - Y_PADDING;\n    var WIDTH = container.node().getBoundingClientRect().width - X_PADDING;\n    // Display first, last and middle point bins\n    var tickValues = [0, bins / 2, bins];\n    var tickPadding = axisOptions.padding !== undefined ? axisOptions.padding : 13;\n    var ticks = axisOptions.ticks !== undefined ? axisOptions.ticks : tickValues.length;\n    var xScale = linear()\n        .domain([0, bins])\n        .range([0, WIDTH]);\n    var realScale = linear()\n        .domain(domain)\n        .range([0, bins]);\n    var xAxis;\n    if (axisOptions.values || axisOptions.format) {\n        var altScale = linear()\n            .domain(domain)\n            .range([0, WIDTH]);\n        xAxis = axisBottom(altScale)\n            .tickValues(axisOptions.values || null)\n            .tickFormat(axisOptions.format || customFormatter);\n    }\n    else {\n        xAxis = axisBottom(xScale)\n            // tickValues has precedence over ticks, must set null if user wants custom tick number\n            .tickValues(ticks !== undefined ? null : tickValues)\n            .tickFormat(function (value) {\n            var realValue = realScale.invert(value);\n            return customFormatter(realValue);\n        });\n    }\n    xAxis\n        .tickSize(-HEIGHT)\n        .tickPadding(tickPadding)\n        .ticks(ticks);\n    if (container.select('.x-axis').empty()) {\n        container\n            .append('g')\n            .attr('class', 'x-axis')\n            .attr('transform', \"translate(0, \" + HEIGHT + \")\")\n            .call(xAxis);\n    }\n    else {\n        container\n            .select('.x-axis')\n            .attr('transform', \"translate(0, \" + HEIGHT + \")\")\n            .call(xAxis);\n    }\n    container.selectAll('.x-axis text')\n        .attr('transform', function (_d, i, collection) {\n        var node = collection[i];\n        var width = node.getBoundingClientRect().width;\n        var xOffset = 0;\n        if (i === 0) {\n            xOffset = width / 2;\n        }\n        else if (i === collection.length - 1) {\n            xOffset = -width / 2;\n        }\n        return \"translate(\" + xOffset + \")\";\n    })\n        .attr('opacity', function (_d, i, collection) {\n        // We never hide the first or the last text node\n        if (i === 0 || i === collection.length - 1) {\n            return 1;\n        }\n        var textWidth = 0;\n        var textElements = collection;\n        for (var _i = 0, textElements_1 = textElements; _i < textElements_1.length; _i++) {\n            var textEl = textElements_1[_i];\n            textWidth += textEl.getBoundingClientRect().width;\n        }\n        // Hide all other text nodes when there's not enough space\n        if (WIDTH - textWidth < 0) {\n            return 0;\n        }\n        return 1;\n    });\n    return xAxis;\n}\nfunction renderYAxis(container, yAxis, X_PADDING) {\n    if (!container || !container.node()) {\n        return;\n    }\n    if (container.select('.y-axis').empty()) {\n        container\n            .append('g')\n            .attr('class', 'y-axis')\n            .call(yAxis);\n    }\n    else {\n        container.select('.y-axis')\n            .call(yAxis);\n    }\n    // 0 line\n    container\n        .select('.y-axis')\n        .append('g')\n        .attr('class', 'tick')\n        .attr('opacity', '1')\n        .attr('transform', \"translate(0,\" + yAxis.scale()(0) + \")\")\n        .append('line')\n        .attr('shape-rendering', 'crisp')\n        .attr('stroke', '#000')\n        .attr('class', 'zero')\n        .attr('x2', container.node().getBoundingClientRect().width - X_PADDING);\n}\nfunction generateYScale(container, domain, X_PADDING, Y_PADDING, axisOptions) {\n    if (!container || !container.node()) {\n        return;\n    }\n    var HEIGHT = container.node().getBoundingClientRect().height - Y_PADDING;\n    var WIDTH = container.node().getBoundingClientRect().width - X_PADDING;\n    var ticks = axisOptions.ticks !== undefined ? axisOptions.ticks : 5;\n    var tickPadding = axisOptions.padding !== undefined ? axisOptions.padding : 10;\n    // -- Y Axis\n    var yScale = linear()\n        .domain(domain)\n        .range([HEIGHT, 0]);\n    var yAxis = axisLeft(yScale)\n        .tickSize(-WIDTH)\n        .ticks(ticks)\n        .tickPadding(tickPadding)\n        .tickFormat(axisOptions.format || conditionalFormatter)\n        .tickValues(axisOptions.values || null);\n    return yAxis;\n}\nfunction _delayFn(_d, i) {\n    return i;\n}\nfunction conditionalFormatter(value) {\n    if (value > 0 && value < 1) {\n        return decimalFormatter(value);\n    }\n    return formatter(value);\n}\nvar drawService = {\n    cleanAxes: cleanAxes,\n    conditionalFormatter: conditionalFormatter,\n    generateYScale: generateYScale,\n    renderBars: renderBars,\n    renderPlot: renderPlot,\n    renderXAxis: renderXAxis,\n    renderYAxis: renderYAxis,\n    updateAxes: updateAxes\n};\nfunction addTooltip(container, barsContainer, hasSelection, color, unselectedColor, formatter, setTooltip, className) {\n    var _this = this;\n    container.on('mousemove', function () {\n        var evt = event;\n        var clientX = evt.clientX, clientY = evt.clientY;\n        var anyHovered = false;\n        _forEachRect(barsContainer, clientX, clientY, className, function (data, node, bucketIndex, boundingBox) { return __awaiter(_this, void 0, void 0, function () {\n            var selected, _color, tooltip;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        selected = _isSelected(hasSelection.selection, bucketIndex);\n                        _color = selected ? data.color || color : unselectedColor;\n                        _color = shadeOrBlend(-0.16, _color);\n                        node.style('fill', _color);\n                        return [4 /*yield*/, formatter(data)];\n                    case 1:\n                        tooltip = _a.sent();\n                        setTooltip(tooltip, boundingBox, evt);\n                        anyHovered = true;\n                        return [2 /*return*/];\n                }\n            });\n        }); }, function (data, node, bucketIndex) {\n            var selected = _isSelected(hasSelection.selection, bucketIndex);\n            node.style('fill', selected ? data.color || color : unselectedColor);\n        });\n        if (!anyHovered) {\n            setTooltip(null, null);\n        }\n    })\n        .on('click', function () {\n        var evt = event;\n        var clientX = evt.clientX, clientY = evt.clientY;\n        _forEachRect(barsContainer, clientX, clientY, className, function (data) {\n            hasSelection.setSelection([data.start, data.end], true);\n        });\n    })\n        .on('mouseleave', function () {\n        setTooltip(null, null);\n        barsContainer.selectAll(\"rect.\" + className)\n            .style('fill', function (data, bucketIndex) {\n            if (_isSelected(hasSelection.selection, bucketIndex)) {\n                return data.color || color;\n            }\n            return unselectedColor;\n        });\n    });\n}\nfunction _isSelected(range, bucketIndex) {\n    if (range === null) {\n        return true;\n    }\n    return bucketIndex >= range[0] && bucketIndex < range[1];\n}\n/**\n * Cycles through all rects in container, fires a callback for the rect that contains the x / y points,\n * and fires another (optional) callback for the rest of the containers\n *\n * @param {SVGGContainer} container Container that contains rect elements\n * @param {number} x X coordinate to check whether is contained or not\n * @param {number} y Y coordinate to check whether is contained or not\n * @param {RectCallback} insideCallback Callback fired with data of bucket that contains the point\n * @param {RectCallback} [outsideCallback] Callback fired with data of buckets that don't contain the point\n */\nfunction _forEachRect(container, x, y, className, insideCallback, outsideCallback) {\n    container.selectAll(\"rect.\" + className)\n        .each(function (data, i, nodes) {\n        var nodeSelection = select(nodes[i]);\n        var node = nodes[i];\n        var bb = node.getBoundingClientRect();\n        var isInsideBB = bb.left <= x &&\n            x <= bb.right &&\n            bb.top <= y &&\n            y <= bb.bottom;\n        if (isInsideBB) {\n            insideCallback(data, nodeSelection, i, bb);\n            return;\n        }\n        if (outsideCallback) {\n            outsideCallback(data, nodeSelection, i, null);\n        }\n    });\n}\nvar interactionService = { addTooltip: addTooltip };\nvar CUSTOM_HANDLE_WIDTH = 8;\nvar CUSTOM_HANDLE_HEIGHT = 20;\n// we could use getComputedStyle instead of these\nvar X_PADDING = 38;\nvar Y_PADDING = 40;\nvar LABEL_PADDING = 25;\nvar FG_CLASSNAME = 'foreground-bar';\nvar BG_CLASSNAME = 'background-bar';\nvar HistogramWidget = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        /**\n         * Toggles displaying title and description\n         *\n         * @type {boolean}\n         * @memberof HistogramWidget\n         */\n        this.showHeader = true;\n        /**\n         * Disables selection brushes and events for the widget\n         *\n         * @type {boolean}\n         * @memberof HistogramWidget\n         */\n        this.disableInteractivity = false;\n        /**\n         * Histogram data to be displayed\n         *\n         * @type {HistogramData[]}\n         * @memberof HistogramWidget\n         */\n        this.data = [];\n        /**\n         * Data that will be merged into buckets with value === 0\n         *\n         * @type {HistogramData[]}\n         * @memberof HistogramWidget\n         */\n        this.backgroundData = null;\n        /**\n         * Override color for the histogram bars\n         *\n         * @type {string}\n         * @memberof HistogramWidget\n         */\n        this.color = DEFAULT_BAR_COLOR;\n        /**\n         * Override color for the non selected histogram bars\n         *\n         * @type {string}\n         * @memberof HistogramWidget\n         */\n        this.unselectedColor = DEFAULT_BACKGROUND_BAR_COLOR;\n        /**\n         * Function that formats the tooltip. Receives HistogramData and outputs a string\n         *\n         * @type {(HistogramData) => string}\n         * @memberof HistogramWidget\n         */\n        this.tooltipFormatter = this.formatter;\n        /**\n         * Use this attribute to put the widget in \"loading mode\".\n         * When loading mode is active, a spinner will be shown and the data will be hidden.\n         */\n        this.isLoading = false;\n        /**\n         * Use this widget to put the widget in \"error mode\".\n         * When error mode is active. The header will display the given text.\n         * And the body will be display the errorDescription instead any data.\n         */\n        this.error = '';\n        /**\n         * Extended error description, only shown when error is present\n         */\n        this.errorDescription = '';\n        /**\n         * Message shown in header when no data is available\n         */\n        this.noDataHeaderMessage = 'NO DATA AVAILABLE';\n        /**\n         * Message shown in body when no data is available\n         */\n        this.noDataBodyMessage = 'There is no data to display.';\n        /**\n         * Use this attribute to decide if the widget should be rerendered on window resize.\n         * Defaults to true.\n         */\n        this.responsive = true;\n        /**\n         * Text rendered inside the clear selection button\n         */\n        this.clearText = 'Clear selection';\n        /**\n         * Function to format the range selected text displayed below the histogram\n         *\n         * @memberof HistogramWidget\n         */\n        this.selectedFormatter = this._selectionFormatter;\n        /**\n         * This prop lets you provide the range of the y-axis so it's not automatically calculated with\n         * data or backgroundData. It always starts at 0, you can provide the top value.\n         *\n         * @memberof HistogramWidget\n         */\n        this.range = null;\n        /**\n         * This lets you disable the animations for the bars when showing / updating the data\n         *\n         * @type {boolean}\n         * @memberof HistogramWidget\n         */\n        this.disableAnimation = false;\n        /**\n         * This prop is a proxy to some d3-axis options for the X Axis\n         *\n         * @type {AxisOptions}\n         * @memberof TimeSeriesWidget\n         */\n        this.xAxisOptions = {};\n        /**\n         * This prop is a proxy to some d3-axis options for the Y Axis\n         *\n         * @type {AxisOptions}\n         * @memberof TimeSeriesWidget\n         */\n        this.yAxisOptions = {};\n        this.selection = null;\n        this.tooltip = null;\n        this._firstDataSupplied = false;\n        this._muteSelectionChanged = false;\n        this._lastEmittedSelection = null;\n        this.selectionEmpty = true;\n        this.selectionFooter = '';\n        this._resizeRender = this._resizeRender.bind(this);\n        this._setTooltip = this._setTooltip.bind(this);\n        this.selectionChanged = createEvent(this, \"selectionChanged\", 7);\n        this.selectionInput = createEvent(this, \"selectionInput\", 7);\n        this.drawParametersChanged = createEvent(this, \"drawParametersChanged\", 7);\n    }\n    class_1.prototype._onBackgroundDataChanged = function (newBackgroundData) {\n        if (newBackgroundData === null || newBackgroundData.length === 0) {\n            this._prepareData(this.data, null);\n            return;\n        }\n        if (isBackgroundCompatible(this.data, newBackgroundData)) {\n            this._prepareData(this.data, newBackgroundData);\n        }\n    };\n    class_1.prototype._onDataChanged = function (newData, oldData) {\n        this.onNewData(newData, oldData);\n        if (!this._firstDataSupplied) {\n            this._firstDataSupplied = Boolean(newData && newData.length);\n        }\n    };\n    class_1.prototype.onNewData = function (newData, oldData) {\n        // Invalidated, indexes might be different data now\n        this._lastEmittedSelection = null;\n        if (isBackgroundCompatible(newData, this.backgroundData)) {\n            this._prepareData(this.data, this.backgroundData, oldData);\n        }\n        else {\n            this._prepareData(this.data, null, oldData);\n        }\n    };\n    class_1.prototype._prepareData = function (data, backgroundData, oldData) {\n        this._data = prepareData(data);\n        this._backgroundData = backgroundData === null ? this._mockBackgroundData(data) : prepareData(backgroundData);\n        var newScale = binsScale(this._data);\n        var wasCategoricalData = !!this.isCategoricalData;\n        this.isCategoricalData = isCategoricalData(this._data);\n        if (wasCategoricalData !== this.isCategoricalData) {\n            this.selection = null;\n        }\n        else {\n            this.selection = this._preadjustSelection(oldData, newScale, data.length);\n        }\n        this.binsScale = newScale;\n        this._muteSelectionChanged = true;\n        this._dataJustChanged = true;\n    };\n    class_1.prototype._onColorChanged = function (newColor) {\n        var incomingColor = newColor || DEFAULT_BAR_COLOR;\n        this._color = this._toColor(incomingColor, DEFAULT_BAR_COLOR_HEX);\n    };\n    class_1.prototype._onSelectedColorChanged = function (newColor) {\n        var incomingColor = newColor || DEFAULT_BACKGROUND_BAR_COLOR;\n        this._barBackgroundColor = this._toColor(incomingColor, DEFAULT_BACKGROUND_BAR_COLOR_HEX);\n    };\n    /**\n     * Default formatting function. Makes the value a readable number and\n     * converts it into a string. Useful to compose with your own formatting\n     * function.\n     *\n     * @memberof HistogramWidget\n     */\n    class_1.prototype.defaultFormatter = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.formatter(data)];\n            });\n        });\n    };\n    /**\n     * Returns the current selection\n     *\n     * @returns {number[] | string[]}\n     * @memberof HistogramWidget\n     */\n    class_1.prototype.getSelection = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var data;\n            return __generator(this, function (_a) {\n                data = this._dataForSelection(this.selection);\n                return [2 /*return*/, this._simplifySelection(data)];\n            });\n        });\n    };\n    /**\n     * Programmatically set the selection. It will be adjusted to the buckets\n     * present in {@link data}. To clear see {@link clearSelection} or call with null\n     *\n     * @param {number[] | null} values\n     * @param {boolean} emit Set to true to force emitting the selectionChanged event.\n     * @memberof HistogramWidget\n     */\n    class_1.prototype.setSelection = function (values, emit) {\n        if (emit === void 0) { emit = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var bins;\n            return __generator(this, function (_a) {\n                if (values === null) {\n                    this._setSelection(null);\n                    this.emitSelection(this.selectionChanged, this.selection);\n                    return [2 /*return*/];\n                }\n                // This is too tricky, we'd have to make sure that categories are contiguous\n                if (values.some(function (value) { return typeof value === 'string'; })) {\n                    return [2 /*return*/];\n                }\n                bins = values.map(this.binsScale);\n                this._setSelection(bins);\n                if (emit || !this._muteSelectionChanged) {\n                    this.emitSelection(this.selectionChanged, this.selection);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Clears the Histogram selection\n     *\n     * @memberof HistogramWidget\n     */\n    class_1.prototype.clearSelection = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.setSelection(null);\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Formats a number using the component's x-axis formatter if present\n     *\n     * @memberof HistogramWidget\n     */\n    class_1.prototype.xFormatter = function (value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._xFormatter(value)];\n            });\n        });\n    };\n    class_1.prototype.componentDidLoad = function () {\n        var _this = this;\n        this._color = this._toColor(this.color, DEFAULT_BAR_COLOR_HEX);\n        this._barBackgroundColor = this._toColor(this.unselectedColor, DEFAULT_BACKGROUND_BAR_COLOR_HEX);\n        if (!this._hasDataToDisplay()) {\n            return;\n        }\n        this.isCategoricalData = isCategoricalData(this._data);\n        requestAnimationFrame(function () {\n            _this._renderGraph();\n        });\n    };\n    class_1.prototype.componentDidUpdate = function () {\n        if (!this._dataJustChanged) {\n            return;\n        }\n        this._renderGraph();\n        this._dataJustChanged = false;\n    };\n    class_1.prototype.componentWillLoad = function () {\n        addEventListener('resize', this._resizeRender);\n        this._firstDataSupplied = Boolean(this.data && this.data.length);\n        this.selectionFooter = this.selectedFormatter(this.selection);\n        this._onBackgroundDataChanged(this.backgroundData);\n        this.onNewData(this.data, null);\n    };\n    class_1.prototype.componentDidUnload = function () {\n        removeEventListener('resize', this._resizeRender);\n    };\n    class_1.prototype.render = function () {\n        if (this._isLoading()) {\n            return (h(\"as-histogram-widget-placeholder\", null, this._renderHeader()));\n        }\n        return [\n            this._renderHeader(),\n            this._renderSelection(),\n            this._renderContent(),\n        ];\n    };\n    class_1.prototype._resizeRender = function () {\n        var _this = this;\n        requestAnimationFrame(function () {\n            _this._renderGraph();\n        });\n    };\n    class_1.prototype._renderContent = function () {\n        var _this = this;\n        var histogramClasses = {\n            'as-histogram-widget--categorical': this.isCategoricalData,\n            'as-histogram-widget__wrapper': true,\n            'as-histogram-widget__wrapper--disabled': this.disableInteractivity\n        };\n        var svgClasses = {\n            'figure': true,\n            'figure--has-x-label': !!this.xLabel,\n            'figure--has-y-label': !!this.yLabel\n        };\n        return contentFragment(this._isLoading(), this.error, this._isEmpty(), this.heading, this.errorDescription, this.noDataBodyMessage, h(\"div\", { class: histogramClasses }, h(\"svg\", { class: svgClasses, ref: function (ref) { return _this.container = select(ref); } }), this._renderLabels(), this._renderTooltip()));\n    };\n    class_1.prototype._mockBackgroundData = function (data) {\n        var min = dataService.getLowerBounds(data);\n        return data.map(function (value) { return (Object.assign({}, value, { value: Math.max(0, min) })); });\n    };\n    class_1.prototype._selectionFormatter = function (selection) {\n        if (selection === null) {\n            return 'All selected';\n        }\n        if (this.isCategoricalData) {\n            return selection[1] - selection[0] + \" selected\";\n        }\n        var formattedSelection;\n        var domainSelection = selection.map(this.binsScale.invert);\n        if (this.axisFormatter) {\n            formattedSelection = domainSelection.map(this.axisFormatter);\n        }\n        else {\n            formattedSelection = domainSelection.map(function (e) { return \"\" + conditionalFormatter(e); });\n        }\n        return \"Selected from \" + formattedSelection[0] + \" to \" + formattedSelection[1];\n    };\n    class_1.prototype._renderSelection = function () {\n        var _this = this;\n        if (this._isLoading() || this._isEmpty() || this.error || !this.showClear) {\n            return '';\n        }\n        return h(\"as-widget-selection\", { selection: this.selectionFooter, clearText: this.clearText, showClear: !this.selectionEmpty, onClear: function () { return _this.clearSelection(); } });\n    };\n    class_1.prototype._renderGraph = function () {\n        var _this = this;\n        if (!this.container || !this.container.node()) {\n            return;\n        }\n        var bbox = this.container.node().getBoundingClientRect();\n        var firstRender = this.prevWidth === undefined || this.prevHeight === undefined;\n        this.prevWidth = this.width;\n        this.prevHeight = this.height;\n        this.width = bbox.width;\n        this.height = bbox.height;\n        var resizing = !firstRender && (this.prevWidth !== this.width || this.height !== this.prevHeight);\n        if (this.height === 0 || this.width === 0) {\n            return;\n        }\n        this._generateYAxis();\n        this._renderXAxis();\n        this.barsContainer = drawService.renderPlot(this.container);\n        interactionService.addTooltip(this.container, this.barsContainer, this, this._color, this._barBackgroundColor, function (value) { return _this.tooltipFormatter(value); }, this._setTooltip, FG_CLASSNAME);\n        drawService.renderBars(this._backgroundData, this.yScale, this.container, this.barsContainer, this._barBackgroundColor, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.disableAnimation || resizing, BG_CLASSNAME);\n        drawService.renderBars(this._data, this.yScale, this.container, this.barsContainer, this._color, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.disableAnimation || resizing, FG_CLASSNAME);\n        drawService.renderYAxis(this.container, this.yAxis, X_PADDING);\n        if (!this.disableInteractivity) {\n            this.brush = brushService.addBrush(this.width, this.height, this._onBrush.bind(this), this._onBrushEnd.bind(this), CUSTOM_HANDLE_WIDTH, CUSTOM_HANDLE_HEIGHT, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING);\n            this.brushArea = brushService.addBrushArea(this.brush, this.container);\n            this.customHandles = brushService.addCustomHandles(this.brushArea, CUSTOM_HANDLE_WIDTH, CUSTOM_HANDLE_HEIGHT, this.yScale);\n        }\n        this._updateSelection();\n        this.drawParametersChanged.emit({\n            binsScale: this.binsScale,\n            container: this.container,\n            handleWidth: CUSTOM_HANDLE_WIDTH,\n            height: this.height,\n            padding: [X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING],\n            width: this.width,\n            xScale: this.xScale\n        });\n        this._muteSelectionChanged = false;\n    };\n    class_1.prototype._setTooltip = function (value, barBBox) {\n        if (value === null) {\n            this._hideTooltip();\n            return;\n        }\n        this.tooltip = value;\n        this._showTooltip(barBBox);\n    };\n    class_1.prototype._updateSelection = function () {\n        if (this.selection === null || this.disableInteractivity) {\n            return;\n        }\n        if (this._selectionInData(this.selection)) {\n            this._setSelection(this.selection);\n        }\n        else {\n            this.clearSelection();\n        }\n    };\n    class_1.prototype._adjustSelection = function (values) {\n        var _this = this;\n        if (values === null) {\n            return null;\n        }\n        return values.map(function (value) { return _this._adjustSelectionValue(value); });\n    };\n    class_1.prototype._adjustSelectionValue = function (value) {\n        if (value < 0) {\n            return 0;\n        }\n        if (value >= this._data.length) {\n            return this._data.length;\n        }\n        return Math.round(value);\n    };\n    class_1.prototype._hideCustomHandles = function () {\n        this.customHandles.style('opacity', 0);\n        this.brushArea.selectAll('.bottomline').style('opacity', 0);\n    };\n    class_1.prototype._onBrush = function () {\n        var _this = this;\n        if (this.disableInteractivity) {\n            return;\n        }\n        var evt = event; // I can't cast this properly :(\n        if (evt.selection === null) {\n            this._hideCustomHandles();\n            return;\n        }\n        // I don't know why this happens\n        if (!evt.sourceEvent || evt.sourceEvent.type === 'brush') {\n            return;\n        }\n        // Convert to our data's domain\n        var d0 = evt.selection\n            .map(function (selection) { return _this.xScale.invert(selection); });\n        this._setSelection(d0);\n    };\n    class_1.prototype._onBrushEnd = function () {\n        if (this.disableInteractivity) {\n            return;\n        }\n        if (!this._muteSelectionChanged) {\n            this.emitSelection(this.selectionChanged, this.selection);\n        }\n    };\n    class_1.prototype._setSelection = function (selection) {\n        if (this.disableInteractivity) {\n            return;\n        }\n        var adjustedSelection = this._adjustSelection(selection);\n        if (adjustedSelection !== null && (adjustedSelection[0] === adjustedSelection[1])) {\n            return;\n        }\n        var sameSelection = this.selection !== null &&\n            adjustedSelection !== null &&\n            this.selection.every(function (d, i) { return adjustedSelection[i] === d; });\n        this.selection = adjustedSelection;\n        this._updateHandles(adjustedSelection);\n        if (!sameSelection) {\n            this._hideTooltip();\n            this.emitSelection(this.selectionInput, this.selection);\n        }\n        this.selectionEmpty = this.selection === null;\n        this.selectionFooter = this.selectedFormatter(this.selection);\n    };\n    // Adjust the selection to the new data\n    class_1.prototype._preadjustSelection = function (oldData, newScale, nBuckets) {\n        var _this = this;\n        if (!(oldData && this.selection)) {\n            return this.selection;\n        }\n        // For categorical data, we map back the previously selected values into indexes, and return [first, last]\n        if (this.isCategoricalData) {\n            var selectedCats = this._simplifySelection(this._dataForSelection(this.selection, oldData));\n            var selection = selectedCats.map(function (value) {\n                return _this._data.findIndex(function (d) { return d.category === value; });\n            });\n            // At least one of the previous values are missing, we clear the selection\n            if (selection.some(function (e) { return e === -1; })) {\n                return null;\n            }\n            return [selection[0], selection[selection.length - 1] + 1];\n        }\n        var oldSelection = this._simplifySelection(this._dataForSelection(this.selection, oldData));\n        var newSelection = oldSelection.map(newScale).map(Math.round);\n        return [Math.max(0, newSelection[0]), Math.min(nBuckets, newSelection[1])];\n    };\n    class_1.prototype._dataForSelection = function (selection, from) {\n        if (selection === null) {\n            return null;\n        }\n        var data = from !== undefined ? from : this.data;\n        if (this.isCategoricalData) {\n            return data\n                .slice(selection[0], selection[1])\n                .map(function (d) { return d; });\n        }\n        return [data[selection[0]], data[selection[1] - 1]];\n    };\n    class_1.prototype._simplifySelection = function (selection) {\n        if (selection === null) {\n            return null;\n        }\n        if (this.isCategoricalData) {\n            return selection.map(function (value) { return value.category; });\n        }\n        return [selection[0].start, selection[selection.length - 1].end];\n    };\n    class_1.prototype._sameSelection = function (first, second) {\n        if (first === null || second === null) {\n            return false;\n        }\n        return (first[0] === second[0] && first[1] === second[1]);\n    };\n    class_1.prototype.emitSelection = function (emitter, selection) {\n        if (this._sameSelection(selection, this._lastEmittedSelection)) {\n            return;\n        }\n        if (selection === null) {\n            emitter.emit(null);\n            return;\n        }\n        var payload = this._dataForSelection(selection);\n        var evt = {\n            payload: payload,\n            selection: this._simplifySelection(payload),\n            type: this._eventType()\n        };\n        emitter.emit(evt);\n        if (emitter === this.selectionChanged) {\n            this._lastEmittedSelection = [selection[0], selection[1]];\n        }\n    };\n    class_1.prototype._eventType = function () {\n        return this.isCategoricalData ? 'categorical' : 'continuous';\n    };\n    class_1.prototype._selectionInData = function (selection) {\n        var _this = this;\n        var domainSelection = selection.map(this.binsScale.invert);\n        var inData = domainSelection.map(function (selectionValue) {\n            return _this._data.some(function (value) { return selectionValue >= value.start && selectionValue <= value.end; });\n        });\n        // True if any of the selection values is inside the data\n        // Using inData.every(e => e) would be more restrictive\n        return inData.some(function (e) { return e; });\n    };\n    class_1.prototype._updateHandles = function (values) {\n        var _this = this;\n        if (!this.xScale) {\n            return;\n        }\n        if (values === null) {\n            this.barsContainer.selectAll(\"rect.\" + FG_CLASSNAME)\n                .style('fill', function (_d, i) {\n                var d = _this._data[i];\n                return d.color || _this._color;\n            });\n            this.brushArea.call(this.brush.move, null);\n            return;\n        }\n        var yCoord = this.yScale(this.yScale.domain()[0]);\n        // Convert back to space coordinates\n        var spaceValues = values\n            .map(this.xScale);\n        this.brushArea.call(this.brush.move, spaceValues);\n        this.customHandles\n            .style('opacity', 1)\n            .attr('transform', function (_d, i) {\n            return \"translate(\" + (spaceValues[i] - (CUSTOM_HANDLE_WIDTH / 2) - 1) + \",\" + (yCoord - CUSTOM_HANDLE_HEIGHT / 2) + \")\";\n        });\n        this.brushArea.selectAll('.bottomline')\n            .style('opacity', 1)\n            .attr('stroke-width', 2)\n            .attr('x1', spaceValues[0])\n            .attr('x2', spaceValues[1]);\n        this.barsContainer.selectAll(\"rect.\" + FG_CLASSNAME)\n            .style('fill', function (_d, i) {\n            var d = _this._data[i];\n            // This should not be possible, but in some weird cases this happens on an intermediate step\n            if (!d) {\n                return;\n            }\n            if (i < values[0] || i >= values[1]) {\n                return _this._barBackgroundColor;\n            }\n            return d.color || _this._color;\n        });\n    };\n    class_1.prototype._dataForDomain = function () {\n        var maxData = Math.max.apply(window, this._data.map(function (data) { return data.value; }));\n        var maxBackground = Math.max.apply(window, this._backgroundData.map(function (data) { return data.value; }));\n        if (maxData > maxBackground) {\n            return this._data;\n        }\n        return this._backgroundData;\n    };\n    class_1.prototype._generateYAxis = function () {\n        var yDomain = this.range !== null\n            ? this.range\n            : dataService.getYDomain(this._dataForDomain());\n        this.yAxis = drawService.generateYScale(this.container, yDomain, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.yAxisOptions);\n        this.yScale = this.yAxis.scale();\n    };\n    class_1.prototype._renderXAxis = function () {\n        var xDomain = dataService.getXDomain(this._data);\n        var xAxis = drawService.renderXAxis(this.container, xDomain, this._data.length, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.axisFormatter, this.xAxisOptions);\n        this.xScale = xAxis.scale();\n    };\n    class_1.prototype._showTooltip = function (barBoundingBox) {\n        if (!this.tooltipElement) {\n            return;\n        }\n        select(this.tooltipElement)\n            .style('display', 'inline')\n            .style('left', barBoundingBox.left + (barBoundingBox.width / 2) + \"px\")\n            .style('top', barBoundingBox.top + \"px\");\n    };\n    class_1.prototype._hideTooltip = function () {\n        select(this.tooltipElement)\n            .style('display', 'none');\n    };\n    class_1.prototype._renderHeader = function () {\n        if (!this.showHeader) {\n            return;\n        }\n        return h(\"as-widget-header\", { header: this.heading, subheader: this.description, \"is-loading\": this._isLoading(), \"is-empty\": this._isEmpty(), error: this.error, \"no-data-message\": this.noDataHeaderMessage });\n    };\n    class_1.prototype._renderTooltip = function () {\n        var _this = this;\n        return (h(\"span\", { ref: function (ref) { return _this.tooltipElement = ref; }, role: 'tooltip', class: 'as-tooltip as-tooltip--top' }, this._parseTooltip(this.tooltip)));\n    };\n    class_1.prototype._parseTooltip = function (tooltip) {\n        var _this = this;\n        if (tooltip === null) {\n            return null;\n        }\n        if (Array.isArray(tooltip)) {\n            return tooltip.map(function (text) { return _this._renderTooltipLine(text); });\n        }\n        return this._renderTooltipLine(tooltip);\n    };\n    class_1.prototype._renderTooltipLine = function (value) {\n        return h(\"div\", null, value);\n    };\n    class_1.prototype._renderLabels = function () {\n        return [\n            this.yLabel ? h(\"div\", { class: 'y-label' }, this.yLabel) : '',\n            this.xLabel ? h(\"div\", { class: 'x-label' }, this.xLabel) : '',\n        ];\n    };\n    /**\n     * Converts to a hex color string, allowing CSS variables to be passed.\n     *\n     * @param color color string, can be a CSS variable declaration: var(varname[, fallback])\n     * @param fallbackColor if the variable is malformed, or if the CSS variable is not defined, this will be returned\n     */\n    class_1.prototype._toColor = function (color, fallbackColor) {\n        if (color.startsWith('var(')) {\n            var match = color.match(/var\\(([^,\\)]+)(,.+)?\\)/);\n            if (match === null) {\n                return fallbackColor;\n            }\n            var variable = match[1];\n            var fallback = (match[2] || '').replace(',', '').trim();\n            var computed = getComputedStyle(this.el).getPropertyValue(variable).toLowerCase().trim();\n            if (computed.length === 0) {\n                return fallback.length === 0 ? fallbackColor : fallback;\n            }\n            return computed;\n        }\n        return color;\n    };\n    class_1.prototype._isLoading = function () {\n        return (!this._firstDataSupplied || this.isLoading) && !this.error;\n    };\n    class_1.prototype._isEmpty = function () {\n        return this._data && !this._data.length;\n    };\n    class_1.prototype._hasDataToDisplay = function () {\n        return !(this._isLoading() || this._isEmpty() || this.error);\n    };\n    class_1.prototype.formatter = function (data) {\n        var tooltip = [];\n        if (this.isCategoricalData) {\n            tooltip.push(\"\" + data.category);\n        }\n        else {\n            tooltip.push(this._xFormatter(data.start) + \" - \" + this._xFormatter(data.end));\n        }\n        tooltip.push(\"\" + readableNumber(data.value).trim());\n        return tooltip;\n    };\n    class_1.prototype._xFormatter = function (value) {\n        if (this.axisFormatter) {\n            return this.axisFormatter(value);\n        }\n        else {\n            return conditionalFormatter(value);\n        }\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"backgroundData\": [\"_onBackgroundDataChanged\"],\n                \"data\": [\"_onDataChanged\"],\n                \"color\": [\"_onColorChanged\"],\n                \"unselectedColor\": [\"_onSelectedColorChanged\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"style\", {\n        get: function () { return \".as-tooltip{--as--tooltip--background-color:var(--as--color--type-01,#2c2c2c);--as--tooltip--color:var(--as--color--text-contrast,#fff);--as--tooltip--support-color:var(--as--color--white,#fff);--as--tooltip--primary--background-color:var(--as--primary--success,#1785fb);--as--tooltip--primary--color:var(--as--tooltip--support-color);--as--tooltip--secondary--background-color:var(--as--secondary--success,#0f2d53);--as--tooltip--secondary--color:var(--as--tooltip--support-color);--as--tooltip--complementary--background-color:var(--as--complementary--success,#47db99);--as--tooltip--complementary--color:var(--as--tooltip--support-color);--as--tooltip--error--background-color:var(--as--color--error,#f3522b);--as--tooltip--error-color:var(--as--tooltip--support-color);--as--tooltip--warning--background-color:var(--as--color--warning,#fdb32b);--as--tooltip--warning--color:var(--as--tooltip--support-color);--as--tooltip--success--background-color:var(--as--color--success,#80b622);--as--tooltip--success--color:var(--as--tooltip--support-color);display:-ms-inline-flexbox;display:inline-flex;position:relative;padding:4px 8px;border-width:0;border-radius:4px;border-color:var(--as--tooltip--background-color);background:var(--as--tooltip--background-color);color:var(--as--tooltip--color);font:var(--as--font--body)}.as-tooltip:after{content:\\\"\\\";position:absolute;border-width:5px;border-style:solid;border-radius:2px;border-color:inherit}.as-tooltip--top:after{top:100%;left:50%;-webkit-transform:translateY(-6px) translateX(-5px) rotate(45deg);transform:translateY(-6px) translateX(-5px) rotate(45deg)}.as-tooltip--bot:after,.as-tooltip--bottom:after{bottom:100%;left:50%;-webkit-transform:translateY(6px) translateX(-5px) rotate(45deg);transform:translateY(6px) translateX(-5px) rotate(45deg)}.as-tooltip--right:after{top:50%;left:0;-webkit-transform:translateY(-5px) translateX(-4px) rotate(45deg);transform:translateY(-5px) translateX(-4px) rotate(45deg)}.as-tooltip--left:after{top:50%;right:0;-webkit-transform:translateY(-4px) translateX(4px) rotate(45deg);transform:translateY(-4px) translateX(4px) rotate(45deg)}.as-tooltip--primary{border-color:var(--as--tooltip--primary--background-color);background:var(--as--tooltip--primary--background-color);color:var(--as--tooltip--primary--color)}.as-tooltip--secondary{border-color:var(--as--tooltip--secondary--background-color);background:var(--as--tooltip--secondary--background-color);color:var(--as--tooltip--secondary--color)}.as-tooltip--complementary{border-color:var(--as--tooltip--complementary--background-color);background:var(--as--tooltip--complementary--background-color);color:var(--as--tooltip--complementary--color)}.as-tooltip--error{border-color:var(--as--tooltip--error--background-color);background:var(--as--tooltip--error--background-color);color:var(--as--tooltip--error--color)}.as-tooltip--warning{border-color:var(--as--tooltip--warning--background-color);background:var(--as--tooltip--warning--background-color);color:var(--as--tooltip--warning--color)}.as-tooltip--success{border-color:var(--as--tooltip--success--background-color);background:var(--as--tooltip--success--background-color);color:var(--as--tooltip--success--color)}as-histogram-widget{--as--histogram-widget--background-color:var(--as--color--ui-01,#fff);--as--histogram-widget--figure--stroke-color:var(--as--color--secondary,#0f2d53);--as--histogram-widget--figure--text-color:var(--as--color--type-01,#2c2c2c);--as--histogram-widget--label-color:var(--as--color--type-01,#2c2c2c);--as--histogram-widget--label-font:var(--as--font--caption);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;min-width:228px;height:100%;max-height:100%;overflow:auto;background:var(--as--histogram-widget--background-color)}as-histogram-widget as-widget-header{padding-top:6px}as-histogram-widget .as-histogram-widget__wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;min-height:0}as-histogram-widget .as-histogram-widget--categorical .x-axis{opacity:0}as-histogram-widget .figure{-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex:1;flex:1;width:100%;min-height:0;padding:18px 8px 17px 30px;overflow:visible}as-histogram-widget .figure--has-x-label{margin-bottom:25px}as-histogram-widget .figure--has-y-label{padding-left:55px}as-histogram-widget .figure text{fill:var(--as--histogram-widget--figure--text-color)}as-histogram-widget .figure .brush .selection{stroke:none;fill:none}as-histogram-widget .figure .foreground-bar{cursor:pointer}as-histogram-widget .figure .y-axis{--widget-axis-text-color:var(--as--color--type-01,#2c2c2c);--widget-axis-line-color:var(--as--color--ui-05,#b3b3b3)}as-histogram-widget .figure .y-axis .tick text{width:30px;fill:var(--widget-axis-text-color);white-space:pre}as-histogram-widget .figure .y-axis .tick line{stroke:var(--widget-axis-line-color);opacity:.1}as-histogram-widget .figure .y-axis .tick line.zero{opacity:.5}as-histogram-widget .figure .x-axis .domain,as-histogram-widget .figure .x-axis .tick line,as-histogram-widget .figure .y-axis .domain{display:none}as-histogram-widget .figure .handle--wrapper{opacity:0}as-histogram-widget .figure .handle--custom{stroke-linecap:round;stroke:var(--as--histogram-widget--figure--stroke-color);fill:#fff;cursor:ew-resize;pointer-events:none}as-histogram-widget .figure .grab-line{stroke:#ccc}as-histogram-widget .figure .bottomline{stroke:var(--as--histogram-widget--figure--stroke-color)}as-histogram-widget .as-histogram-widget__wrapper--disabled svg .bar{cursor:inherit}as-histogram-widget .as-histogram-widget__footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;margin-top:8px}as-histogram-widget .as-histogram-widget__selection{margin:0}as-histogram-widget .x-label,as-histogram-widget .y-label{color:var(--as--histogram-widget--label-color);font:var(--as--histogram-widget--label-font);text-align:center}as-histogram-widget .x-label{position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}as-histogram-widget .y-label{position:absolute;top:50%;left:0;margin-left:4px;-webkit-transform:rotate(-90deg) translate(-50%);transform:rotate(-90deg) translate(-50%);-webkit-transform-origin:0 0;transform-origin:0 0}as-histogram-widget [role=tooltip]{display:none;position:fixed;-webkit-transform:translate(-50%,-120%);transform:translate(-50%,-120%);pointer-events:none}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\nexport { HistogramWidget as as_histogram_widget };\n"],"sourceRoot":""}