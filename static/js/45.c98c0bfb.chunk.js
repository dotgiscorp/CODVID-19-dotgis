(this["webpackJsonpcovid-dotgis"]=this["webpackJsonpcovid-dotgis"]||[]).push([[45],{119:function(e,t,a){"use strict";a.r(t),a.d(t,"as_range_slider",(function(){return i}));var n=a(14);var i=function(){function e(e){Object(n.g)(this,e),this.minValue=0,this.maxValue=10,this.step=1,this.disabled=!1,this.draggable=!1,this.isDraggable=!1,this.showThumb=!0,this.showThumbCaption=!0,this.thumbs=[],this.change=Object(n.d)(this,"change",7),this.changeStart=Object(n.d)(this,"changeStart",7),this.changeEnd=Object(n.d)(this,"changeEnd",7)}return e.prototype.validateValue=function(e){if(!this._isBetweenValidValues(e))throw new Error("RangeSlider: Value "+e+" has to be between minValue ("+this.minValue+") and maxValue ("+this.maxValue+")");this._updateThumbs()},e.prototype.validateRange=function(e){var t=this;if(2!==e.length)throw new Error("RangeSlider: Range "+e+" need two values at most");e.map((function(e){return t.validateValue(e)})),this._updateThumbs()},e.prototype.componentWillLoad=function(){this._validateValues(),this._updateThumbs()},e.prototype.componentDidRender=function(){this._checkLabelOverflow()},e.prototype.componentDidLoad=function(){this.checkThumbCollision()},e.prototype.render=function(){var e=this;if(!(this.thumbs.length<1)){var t={"as-range-slider":!0,"as-range-slider--disabled":this.disabled};return Object(n.f)("div",{class:t},Object(n.f)("div",{class:"as-range-slider__rail"},this.thumbs.map((function(t){return e._renderThumb(t)})),this._renderRangeBar(),this._renderCollapsedLabel()))}},e.prototype._getLabelOffsetPercentage=function(){var e=this.thumbs[1].percentage-this.thumbs[0].percentage;return this.thumbs[0].percentage+e/2},e.prototype._updateThumbs=function(){this.thumbs=this._createThumbs()},e.prototype._renderThumb=function(e){var t=this;if(this.showThumb)return Object(n.f)("as-range-slider-thumb",{value:e.value,valueMin:e.valueMin,valueMax:e.valueMax,percentage:e.percentage,disabled:this.disabled,formatValue:this.formatValue,showCaption:this._shouldShowCaption(),onThumbMove:function(a){return t._onThumbMove(e,a.detail)},onThumbIncrease:function(){return t._onKeyboardThumbMove(e,1)},onThumbDecrease:function(){return t._onKeyboardThumbMove(e,-1)},onThumbChangeStart:function(){return t._emitChangeIn(t.changeStart)},onThumbChangeEnd:function(){return t._emitChangeIn(t.changeEnd)},onThumbRender:function(){return t.checkThumbCollision()}})},e.prototype._renderRangeBar=function(){var e=this,t=this._getCurrentThumbPercentages(),a=t[0],i=t[1],r=(this.isDraggable||this.draggable)&&void 0!==this.range;return Object(n.f)("as-range-slider-bar",{rangeStartPercentage:a,rangeEndPercentage:i,isDraggable:r,disabled:this.disabled,stepPercentage:this._getStepPercentage(),onBarChangeStart:function(){return e._emitChangeIn(e.changeStart)},onBarChangeEnd:function(){return e._emitChangeIn(e.changeEnd)},onBarMove:function(t){return e._onBarMove(t)}})},e.prototype._renderCollapsedLabel=function(){if(2===this.thumbs.length){var e=this.formatValue||function(e){return e},t=this._getLabelOffsetPercentage(),a=this.thumbs[0].percentage<50,i={left:t+"%"},r={"as-caption":!0,"as-font-medium":!0,"as-range-slider__rail-label":!0,"as-range-slider__rail-label--active":this.areLabelsColliding,"as-range-slider__rail-label__overflow--left":this.isLeftLabelOverflowing&&a,"as-range-slider__rail-label__overflow--right":this.isRightLabelOverflowing&&!a};return Object(n.f)("div",{class:r,style:i},e(this.thumbs[0].value),Object(n.f)("span",{class:"as-range-slider__label-separator"},"\u2014"),e(this.thumbs[1].value))}},e.prototype._getCurrentThumbPercentages=function(){return[this._sliderHasRange()?this.thumbs[0].percentage:0,this.thumbs[this.thumbs.length-1].percentage]},e.prototype._shouldShowCaption=function(){return!this.areLabelsColliding&&this.showThumbCaption},e.prototype._validateValues=function(){this.value?this.validateValue(this.value):this.range&&this.validateRange(this.range)},e.prototype._createThumbs=function(){var e=this;if(!(this.range&&this.range.length))return[this._getThumbData(this.value)];var t=this.range.map((function(t){return e._getThumbData(t)}));return this._clampThumbValues(t),t},e.prototype._getThumbData=function(e){return{percentage:this._isBetweenValidValues(e)?this._getPercentage(e):this._getPercentage(this.minValue),value:this._isBetweenValidValues(e)?e:this.minValue,valueMax:this.maxValue,valueMin:this.minValue}},e.prototype._isBetweenValidValues=function(e){return e>=this.minValue&&e<=this.maxValue},e.prototype._sliderHasRange=function(){return this.range&&2===this.range.length},e.prototype._onKeyboardThumbMove=function(e,t){var a=this._getPercentage(e.value+t*this.step);a<0||a>100||this._onThumbMove(e,a)},e.prototype._onThumbMove=function(e,t){var a=this.thumbs,n=a[0],i=a[1],r=n===e,s=i===e,l=this._getValueFromPercentage(t),o=this._getStepValue(l),h=this._getPercentage(o),u=this.minValue,g=this.maxValue;this._sliderHasRange()&&r&&(g=i.value-this.step)<o||this._sliderHasRange()&&s&&(u=n.value+this.step)>o||(e.value=o,e.valueMin=u,e.valueMax=g,e.percentage=h,this.thumbs=this.thumbs.slice(),this._emitChangeIn(this.change))},e.prototype._onBarMove=function(e){var t=this,a=e.detail.map((function(e){return t._getValueFromPercentage(e)})).map((function(e){return t._getStepValue(e)})).map((function(e){return{percentage:t._getPercentage(e),value:e}}));this._clampThumbValues(a),this.thumbs=a.slice(),this._emitChangeIn(this.change)},e.prototype._emitChangeIn=function(e){var t=this.thumbs.map((function(e){return e.value}));return e.emit(t)},e.prototype._getPercentage=function(e){return(e-this.minValue)/(this.maxValue-this.minValue)*100},e.prototype._getValueFromPercentage=function(e){return e*(this.maxValue-this.minValue)/100+this.minValue},e.prototype._getStepPercentage=function(){var e=this.maxValue-this.minValue;return 100*this.step/e},e.prototype._clampThumbValues=function(e){var t=e[0],a=e[1];t.valueMin=this.minValue,t.valueMax=Math.min(a.value-this.step,this.maxValue),a.valueMin=Math.max(this.minValue,t.value+this.step),a.valueMax=this.maxValue},e.prototype._getStepValue=function(e){var t=Math.max(this.minValue,Math.round(e/this.step)*this.step);return this.roundToStep(t,this.step)},e.prototype.roundToStep=function(e,t){return Number.parseFloat(e.toFixed(function(e){for(var t,a=0;t=e*Math.pow(10,a),Math.abs(Math.round(t)-t)>1e-10&&isFinite(Math.pow(10,a));)a++;return a}(t)))},e.prototype._checkLabelOverflow=function(){var e=this.element.querySelectorAll("as-range-slider-thumb .as-range-slider__value");if(e){var t=this.checkOverflowInParentContainer(e[0]).overflow,a=(e.length>1?this.checkOverflowInParentContainer(e[1]):{overflow:!1}).overflow;this.isLeftLabelOverflowing=t,this.isRightLabelOverflowing=a}},e.prototype.checkThumbCollision=function(){var e=this.element.querySelectorAll("as-range-slider-thumb .as-range-slider__value");if(e&&2===e.length){var t,a,n,i=e[0],r=e[1],s=i.getBoundingClientRect(),l=r.getBoundingClientRect();this.areLabelsColliding=(a=l,n=8,!((t=s).y+t.height<a.y||t.y>a.y+a.height||t.x+t.width+n<a.x||t.x>a.x+a.width+n))}},e.prototype.checkOverflowInParentContainer=function(e){if(e){var t=this.element.parentElement.getBoundingClientRect(),a=e.getBoundingClientRect(),n=t.left>a.left,i=t.right<a.left+a.width;return{left:n,overflow:n||i,right:i}}return{left:!1,overflow:!1,right:!1}},Object.defineProperty(e.prototype,"element",{get:function(){return Object(n.e)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"watchers",{get:function(){return{value:["validateValue"],range:["validateRange"]}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return'as-range-slider{--as--range-slider--rail-color:var(--as--color--ui-03,#e2e6e3);--as--range-slider--range-color:var(--as--color--primary,#1785fb);display:block;height:32px}as-range-slider .as-range-slider--disabled{pointer-events:none}as-range-slider .as-range-slider__rail{display:-ms-flexbox;display:flex;position:relative;width:calc(100% - 12px);height:12px;margin:auto}as-range-slider .as-range-slider__rail:before{content:" ";position:absolute;z-index:0;top:50%;left:0;width:100%;height:2px;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);background-color:var(--as--range-slider--rail-color,#e2e6e3);pointer-events:none}as-range-slider .as-range-slider__rail-label{visibility:hidden;position:absolute;top:16px;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);white-space:nowrap}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label__overflow--left{-webkit-transform:translate3d(-6px,0,0);transform:translate3d(-6px,0,0)}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label__overflow--right{-webkit-transform:translate3d(calc(-100% + 6px),0,0);transform:translate3d(calc(-100% + 6px),0,0)}as-range-slider .as-range-slider__rail-label .as-range-slider__label-separator{display:inline-block;width:8px;-webkit-transition:opacity .2s ease-in;transition:opacity .2s ease-in;opacity:0;text-align:center}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label--active{visibility:visible}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label--active .as-range-slider__label-separator{opacity:1}'},enumerable:!0,configurable:!0}),e}()}}]);
//# sourceMappingURL=45.c98c0bfb.chunk.js.map