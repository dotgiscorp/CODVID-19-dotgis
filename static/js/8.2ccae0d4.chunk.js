(this["webpackJsonpcovid-dotgis"]=this["webpackJsonpcovid-dotgis"]||[]).push([[8],{134:function(t,e,r){"use strict";function i(t,e,r){if("number"!=typeof t||t<-1||t>1||"string"!=typeof e||"r"!=e[0]&&"#"!=e[0]||r&&"string"!=typeof r)return null;var i=function(t){var e=t.length,r={};if(e>9){if((t=t.split(",")).length<3||t.length>4)return null;r[0]=n(t[0].split("(")[1]),r[1]=n(t[1]),r[2]=n(t[2]),r[3]=t[3]?parseFloat(t[3]):-1}else{if(8==e||6==e||e<4)return null;e<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(e>4?t[4]+""+t[4]:"")),t=n(t.slice(1),16),r[0]=t>>16&255,r[1]=t>>8&255,r[2]=255&t,r[3]=-1,9!=e&&5!=e||(r[3]=o(r[2]/255*1e4)/1e4,r[2]=r[1],r[1]=r[0],r[0]=t>>24&255)}return r},n=parseInt,o=Math.round,a=e.length>9,s=(a="string"==typeof r?r.length>9||"c"==r&&!a:a,t<0),l=(t=s?-1*t:t,r=r&&"c"!=r?r:s?"#000000":"#FFFFFF",i(e)),c=i(r);return l&&c?a?"rgb"+(l[3]>-1||c[3]>-1?"a(":"(")+o((c[0]-l[0])*t+l[0])+","+o((c[1]-l[1])*t+l[1])+","+o((c[2]-l[2])*t+l[2])+(l[3]<0&&c[3]<0?")":","+(l[3]>-1&&c[3]>-1?o(1e4*((c[3]-l[3])*t+l[3]))/1e4:c[3]<0?l[3]:c[3])+")"):"#"+(4294967296+16777216*o((c[0]-l[0])*t+l[0])+65536*o((c[1]-l[1])*t+l[1])+256*o((c[2]-l[2])*t+l[2])+(l[3]>-1&&c[3]>-1?o(255*((c[3]-l[3])*t+l[3])):c[3]>-1?o(255*c[3]):l[3]>-1?o(255*l[3]):255)).toString(16).slice(1,l[3]>-1||c[3]>-1?void 0:-2):null}r.d(e,"a",(function(){return i}))},135:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return i})),r.d(e,"g",(function(){return n}));var i="#47DB99",n="#E2E6E3",o="var(--as--color--complementary, "+i+")",a="var(--as-color--type-03, "+n+")",s="%Q",l="%x",c="auto"},89:function(t,e,r){"use strict";r.r(e),r.d(e,"as_histogram_widget",(function(){return nt}));var i=r(14),n=r(130),o=r(128),a=r(134),s=r(129),l=r(138),c=r(131),u=r(135),h=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(e){o(e)}}function s(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){t.done?n(t.value):new r((function(e){e(t.value)})).then(a,s)}l((i=i.apply(t,e||[])).next())}))},d=function(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function p(){s.g.preventDefault(),s.g.stopImmediatePropagation()}function g(t){var e=t.document.documentElement,r=Object(s.u)(t).on("dragstart.drag",p,!0);"onselectstart"in e?r.on("selectstart.drag",p,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function f(t,e){var r=t.document.documentElement,i=Object(s.u)(t).on("dragstart.drag",null);e&&(i.on("click.drag",p,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function m(t){return function(){return t}}function b(t,e,r){this.target=t,this.type=e,this.selection=r}function y(){s.g.stopImmediatePropagation()}function v(){s.g.preventDefault(),s.g.stopImmediatePropagation()}var _={name:"drag"},x={name:"space"},w={name:"handle"},k={name:"center"};function S(t){return[+t[0],+t[1]]}function C(t){return[S(t[0]),S(t[1])]}function D(t){return function(e){return Object(s.z)(e,s.g.touches,t)}}var j={name:"x",handles:["w","e"].map(T),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},A={name:"y",handles:["n","s"].map(T),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},O={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},B={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},M={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},F={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},L={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function T(t){return{type:t}}function E(){return!s.g.ctrlKey&&!s.g.button}function z(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function H(){return navigator.maxTouchPoints||"ontouchstart"in this}function X(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function I(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Y(){return function(t){var e,r=z,i=E,n=H,o=!0,a=Object(l.a)("start","brush","end"),c=6;function u(e){var r=e.property("__brush",R).selectAll(".overlay").data([T("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",O.overlay).merge(r).each((function(){var t=X(this).extent;Object(s.u)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([T("selection")]).enter().append("rect").attr("class","selection").attr("cursor",O.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return O[t.type]})),e.each(h).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",S).filter(n).on("touchstart.brush",S).on("touchmove.brush",Y).on("touchend.brush touchcancel.brush",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){var t=Object(s.u)(this),e=X(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-c/2:e[0][0]-c/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-c/2:e[0][1]-c/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+c:c})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+c:c}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(t,e,r){return!r&&t.__brush.emitter||new p(t,e)}function p(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function S(){if((!e||s.g.touches)&&i.apply(this,arguments)){var r,n,a,c,u,p,m,b,S,C,T,E=this,z=s.g.target.__data__.type,H="selection"===(o&&s.g.metaKey?z="overlay":z)?_:o&&s.g.altKey?k:w,Y=t===A?null:F[z],P=t===j?null:L[z],R=X(E),V=R.extent,G=R.selection,W=V[0][0],J=V[0][1],K=V[1][0],N=V[1][1],U=0,q=0,Q=Y&&P&&o&&s.g.shiftKey,Z=s.g.touches?D(s.g.changedTouches[0].identifier):s.A,$=Z(E),tt=$,et=d(E,arguments,!0).beforestart();"overlay"===z?(G&&(S=!0),R.selection=G=[[r=t===A?W:$[0],a=t===j?J:$[1]],[u=t===A?K:r,m=t===j?N:a]]):(r=G[0][0],a=G[0][1],u=G[1][0],m=G[1][1]),n=r,c=a,p=u,b=m;var rt=Object(s.u)(E).attr("pointer-events","none"),it=rt.selectAll(".overlay").attr("cursor",O[z]);if(s.g.touches)et.moved=ot,et.ended=st;else{var nt=Object(s.u)(s.g.view).on("mousemove.brush",ot,!0).on("mouseup.brush",st,!0);o&&nt.on("keydown.brush",lt,!0).on("keyup.brush",ct,!0),g(s.g.view)}y(),Object(l.b)(E),h.call(E),et.start()}function ot(){var t=Z(E);!Q||C||T||(Math.abs(t[0]-tt[0])>Math.abs(t[1]-tt[1])?T=!0:C=!0),tt=t,S=!0,v(),at()}function at(){var t;switch(U=tt[0]-$[0],q=tt[1]-$[1],H){case x:case _:Y&&(U=Math.max(W-r,Math.min(K-u,U)),n=r+U,p=u+U),P&&(q=Math.max(J-a,Math.min(N-m,q)),c=a+q,b=m+q);break;case w:Y<0?(U=Math.max(W-r,Math.min(K-r,U)),n=r+U,p=u):Y>0&&(U=Math.max(W-u,Math.min(K-u,U)),n=r,p=u+U),P<0?(q=Math.max(J-a,Math.min(N-a,q)),c=a+q,b=m):P>0&&(q=Math.max(J-m,Math.min(N-m,q)),c=a,b=m+q);break;case k:Y&&(n=Math.max(W,Math.min(K,r-U*Y)),p=Math.max(W,Math.min(K,u+U*Y))),P&&(c=Math.max(J,Math.min(N,a-q*P)),b=Math.max(J,Math.min(N,m+q*P)))}p<n&&(Y*=-1,t=r,r=u,u=t,t=n,n=p,p=t,z in B&&it.attr("cursor",O[z=B[z]])),b<c&&(P*=-1,t=a,a=m,m=t,t=c,c=b,b=t,z in M&&it.attr("cursor",O[z=M[z]])),R.selection&&(G=R.selection),C&&(n=G[0][0],p=G[1][0]),T&&(c=G[0][1],b=G[1][1]),G[0][0]===n&&G[0][1]===c&&G[1][0]===p&&G[1][1]===b||(R.selection=[[n,c],[p,b]],h.call(E),et.brush())}function st(){if(y(),s.g.touches){if(s.g.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else f(s.g.view,S),nt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);rt.attr("pointer-events","all"),it.attr("cursor",O.overlay),R.selection&&(G=R.selection),I(G)&&(R.selection=null,h.call(E)),et.end()}function lt(){switch(s.g.keyCode){case 16:Q=Y&&P;break;case 18:H===w&&(Y&&(u=p-U*Y,r=n+U*Y),P&&(m=b-q*P,a=c+q*P),H=k,at());break;case 32:H!==w&&H!==k||(Y<0?u=p-U:Y>0&&(r=n-U),P<0?m=b-q:P>0&&(a=c-q),H=x,it.attr("cursor",O.selection),at());break;default:return}v()}function ct(){switch(s.g.keyCode){case 16:Q&&(C=T=Q=!1,at());break;case 18:H===k&&(Y<0?u=p:Y>0&&(r=n),P<0?m=b:P>0&&(a=c),H=w,at());break;case 32:H===x&&(s.g.altKey?(Y&&(u=p-U*Y,r=n+U*Y),P&&(m=b-q*P,a=c+q*P),H=k):(Y<0?u=p:Y>0&&(r=n),P<0?m=b:P>0&&(a=c),H=w),it.attr("cursor",O[z]),at());break;default:return}v()}}function Y(){d(this,arguments).moved()}function P(){d(this,arguments).ended()}function R(){var e=this.__brush||{selection:null};return e.extent=C(r.apply(this,arguments)),e.dim=t,e}return u.move=function(e,r){e.selection?e.on("start.brush",(function(){d(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){d(this,arguments).end()})).tween("brush",(function(){var e=this,i=e.__brush,n=d(e,arguments),o=i.selection,a=t.input("function"===typeof r?r.apply(this,arguments):r,i.extent),l=Object(s.x)(o,a);function c(t){i.selection=1===t&&null===a?null:l(t),h.call(e),n.brush()}return null!==o&&null!==a?c:c(1)})):e.each((function(){var e=this,i=arguments,n=e.__brush,o=t.input("function"===typeof r?r.apply(e,i):r,n.extent),a=d(e,i).beforestart();Object(l.b)(e),n.selection=null===o?null:o,h.call(e),a.start().brush().end()}))},u.clear=function(t){u.move(t,null)},p.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(s.y)(new b(u,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},u.extent=function(t){return arguments.length?(r="function"===typeof t?t:m(C(t)),u):r},u.filter=function(t){return arguments.length?(i="function"===typeof t?t:m(!!t),u):i},u.handleSize=function(t){return arguments.length?(c=+t,u):c},u.keyModifiers=function(t){return arguments.length?(o=!!t,u):o},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u}(j)}var P={addBrush:function(t,e,r,i,n,o,a,s){return Y().handleSize(n).extent([[0,0],[t-a,e-s+o/2]]).on("brush",r).on("end",i)},addBrushArea:function(t,e){var r=e.select("g.brush");return r.empty()&&(r=e.append("g")).attr("class","brush"),r.call(t),r},addCustomHandles:function(t,e,r,i){var n=t.select("line.bottomline");n.empty()&&(n=t.append("line").attr("class","bottomline").attr("stroke-width",4).style("opacity",0).attr("pointer-events","none")),n.attr("y1",i(0)).attr("y2",i(0));var o=t.selectAll(".handle--wrapper"),a=Math.floor((e-2)/2);if(o.empty()){(o=o.data([{type:"w"},{type:"e"}]).enter().append("g").attr("class","handle--wrapper")).append("rect").attr("class","handle--custom").attr("width",e).attr("height",r).attr("rx",1).attr("ry",1);for(var s=o.append("g").attr("class","handle--grab"),l=0;l<3;l++)s.append("line").attr("transform","translate(0 "+(r/2-2)+")").attr("x1",a).attr("y1",2*l).attr("x2",e-a).attr("y2",2*l).attr("class","grab-line")}return o}};function R(t){return[(t.length>0?t[0]:{start:0}).start,(t.length>0?t[t.length-1]:{end:0}).end]}function V(t){return Object(s.B)(t,(function(t){return t.value}))}function G(t){return t.every(J)}function W(t){var e=t.every(K);return t.map((function(t,r){var i=Object.assign({},t);return e||(i.start=r,i.end=r+1),i}))}function J(t){return void 0!==t.category}function K(t){return void 0!==t.start&&void 0!==t.end}function N(t,e){var r=[t,e].map((function(t){return null===t}));if(r[0]!==r[1])return!1;if(r[0]&&r[1])return!0;if(t.length!==e.length)return!0;for(var i=t.every(J),n=t.every(K),o=0;o<t.length;o++){if(n&&(e[o].start!==t[o].start||e[o].end!==t[o].end))return!1;if(i&&e[o].category!==t[o].category)return!1}return!0}var U={getLowerBounds:V,getXDomain:R,getXScale:function(t,e){return Object(s.n)().domain(t).range([0,e])},getYDomain:function(t){return[Math.min(0,V(t)),Object(s.a)(t,(function(t){return t.value}))]},isBackgroundCompatible:N,isCategoricalData:G,prepareData:W},q=Object(s.b)(".2~s"),Q=Object(s.b)(".2");function Z(t,e){return e}function $(t){return t>0&&t<1?Q(t):q(t)}var tt={cleanAxes:function(t){t.select(".domain").remove()},conditionalFormatter:$,generateYScale:function(t,e,r,i,n){if(t&&t.node()){var o=t.node().getBoundingClientRect().height-i,a=t.node().getBoundingClientRect().width-r,l=void 0!==n.ticks?n.ticks:5,u=void 0!==n.padding?n.padding:10,h=Object(s.n)().domain(e).range([o,0]);return Object(c.a)(h).tickSize(-a).ticks(l).tickPadding(u).tickFormat(n.format||$).tickValues(n.values||null)}},renderBars:function(t,e,r,i,n,o,a,s,l){if(void 0===s&&(s=!1),void 0===l&&(l=""),r&&r.node()){var c=1,u=r.node().getBoundingClientRect().height-a,h=r.node().getBoundingClientRect().width-o,d=0===(t=null===t?[]:t).length?h:h/t.length;d-c<3&&(c=0),this.bars=i.selectAll("rect."+l).data(t),this.bars.exit().remove().transition().duration(200);var p=this.bars.enter().append("rect").attr("y",u).attr("height",0).merge(this.bars).attr("class","bar "+l).attr("x",(function(t,e){return e*d})).attr("width",(function(){return Math.max(0,d-c)})).style("fill",(function(t){return t.color||n})),g=e.domain()[0],f=e(Math.max(0,g));(s?p:p.transition().delay(Z)).attr("height",(function(t){return Math.abs(e(t.value)-f)})).attr("y",(function(t){return t.value>0?e(t.value):f})),(s?this.bars:this.bars.transition().delay(Z)).attr("height",(function(t){return Math.abs(e(t.value)-f)})).attr("y",(function(t){return t.value>0?e(t.value):f}))}},renderPlot:function(t){if(t.select(".plot").empty()){var e=t.append("g");return e.attr("class","plot"),e}return t.select(".plot")},renderXAxis:function(t,e,r,i,n,o,a){if(void 0===o&&(o=$),t&&t.node()){var l,u=t.node().getBoundingClientRect().height-n,h=t.node().getBoundingClientRect().width-i,d=[0,r/2,r],p=void 0!==a.padding?a.padding:13,g=void 0!==a.ticks?a.ticks:d.length,f=Object(s.n)().domain([0,r]).range([0,h]),m=Object(s.n)().domain(e).range([0,r]);if(a.values||a.format){var b=Object(s.n)().domain(e).range([0,h]);l=Object(c.b)(b).tickValues(a.values||null).tickFormat(a.format||o)}else l=Object(c.b)(f).tickValues(void 0!==g?null:d).tickFormat((function(t){var e=m.invert(t);return o(e)}));return l.tickSize(-u).tickPadding(p).ticks(g),t.select(".x-axis").empty()?t.append("g").attr("class","x-axis").attr("transform","translate(0, "+u+")").call(l):t.select(".x-axis").attr("transform","translate(0, "+u+")").call(l),t.selectAll(".x-axis text").attr("transform",(function(t,e,r){var i=r[e].getBoundingClientRect().width,n=0;return 0===e?n=i/2:e===r.length-1&&(n=-i/2),"translate("+n+")"})).attr("opacity",(function(t,e,r){if(0===e||e===r.length-1)return 1;for(var i=0,n=0,o=r;n<o.length;n++){i+=o[n].getBoundingClientRect().width}return h-i<0?0:1})),l}},renderYAxis:function(t,e,r){t&&t.node()&&(t.select(".y-axis").empty()?t.append("g").attr("class","y-axis").call(e):t.select(".y-axis").call(e),t.select(".y-axis").append("g").attr("class","tick").attr("opacity","1").attr("transform","translate(0,"+e.scale()(0)+")").append("line").attr("shape-rendering","crisp").attr("stroke","#000").attr("class","zero").attr("x2",t.node().getBoundingClientRect().width-r))},updateAxes:function(t,e,r,i,n,o,a){var s=t.select(".xAxis"),l=t.select(".yAxis");r.domain(a).nice(),e.domain(o),s.call(i),l.call(n)}};function et(t,e){return null===t||e>=t[0]&&e<t[1]}function rt(t,e,r,i,n,o){t.selectAll("rect."+i).each((function(t,i,a){var l=Object(s.u)(a[i]),c=a[i].getBoundingClientRect();c.left<=e&&e<=c.right&&c.top<=r&&r<=c.bottom?n(t,l,i,c):o&&o(t,l,i,null)}))}var it={addTooltip:function(t,e,r,i,n,o,l,c){var u=this;t.on("mousemove",(function(){var t=s.g,p=t.clientX,g=t.clientY,f=!1;rt(e,p,g,c,(function(e,s,c,p){return h(u,void 0,void 0,(function(){var u,h,g;return d(this,(function(d){switch(d.label){case 0:return u=et(r.selection,c),h=u?e.color||i:n,h=Object(a.a)(-.16,h),s.style("fill",h),[4,o(e)];case 1:return g=d.sent(),l(g,p,t),f=!0,[2]}}))}))}),(function(t,e,o){var a=et(r.selection,o);e.style("fill",a?t.color||i:n)})),f||l(null,null)})).on("click",(function(){var t=s.g,i=t.clientX,n=t.clientY;rt(e,i,n,c,(function(t){r.setSelection([t.start,t.end],!0)}))})).on("mouseleave",(function(){l(null,null),e.selectAll("rect."+c).style("fill",(function(t,e){return et(r.selection,e)?t.color||i:n}))}))}},nt=function(){function t(t){Object(i.g)(this,t),this.showHeader=!0,this.disableInteractivity=!1,this.data=[],this.backgroundData=null,this.color=u.b,this.unselectedColor=u.c,this.tooltipFormatter=this.formatter,this.isLoading=!1,this.error="",this.errorDescription="",this.noDataHeaderMessage="NO DATA AVAILABLE",this.noDataBodyMessage="There is no data to display.",this.responsive=!0,this.clearText="Clear selection",this.selectedFormatter=this._selectionFormatter,this.range=null,this.disableAnimation=!1,this.xAxisOptions={},this.yAxisOptions={},this.selection=null,this.tooltip=null,this._firstDataSupplied=!1,this._muteSelectionChanged=!1,this._lastEmittedSelection=null,this.selectionEmpty=!0,this.selectionFooter="",this._resizeRender=this._resizeRender.bind(this),this._setTooltip=this._setTooltip.bind(this),this.selectionChanged=Object(i.d)(this,"selectionChanged",7),this.selectionInput=Object(i.d)(this,"selectionInput",7),this.drawParametersChanged=Object(i.d)(this,"drawParametersChanged",7)}return t.prototype._onBackgroundDataChanged=function(t){null!==t&&0!==t.length?N(this.data,t)&&this._prepareData(this.data,t):this._prepareData(this.data,null)},t.prototype._onDataChanged=function(t,e){this.onNewData(t,e),this._firstDataSupplied||(this._firstDataSupplied=Boolean(t&&t.length))},t.prototype.onNewData=function(t,e){this._lastEmittedSelection=null,N(t,this.backgroundData)?this._prepareData(this.data,this.backgroundData,e):this._prepareData(this.data,null,e)},t.prototype._prepareData=function(t,e,r){this._data=W(t),this._backgroundData=null===e?this._mockBackgroundData(t):W(e);var i=function(t){return Object(s.n)().domain(R(t)).range([0,t.length])}(this._data),n=!!this.isCategoricalData;this.isCategoricalData=G(this._data),n!==this.isCategoricalData?this.selection=null:this.selection=this._preadjustSelection(r,i,t.length),this.binsScale=i,this._muteSelectionChanged=!0,this._dataJustChanged=!0},t.prototype._onColorChanged=function(t){var e=t||u.b;this._color=this._toColor(e,u.f)},t.prototype._onSelectedColorChanged=function(t){var e=t||u.c;this._barBackgroundColor=this._toColor(e,u.g)},t.prototype.defaultFormatter=function(t){return h(this,void 0,void 0,(function(){return d(this,(function(e){return[2,this.formatter(t)]}))}))},t.prototype.getSelection=function(){return h(this,void 0,void 0,(function(){var t;return d(this,(function(e){return t=this._dataForSelection(this.selection),[2,this._simplifySelection(t)]}))}))},t.prototype.setSelection=function(t,e){return void 0===e&&(e=!1),h(this,void 0,void 0,(function(){var r;return d(this,(function(i){return null===t?(this._setSelection(null),this.emitSelection(this.selectionChanged,this.selection),[2]):(t.some((function(t){return"string"===typeof t}))||(r=t.map(this.binsScale),this._setSelection(r),!e&&this._muteSelectionChanged||this.emitSelection(this.selectionChanged,this.selection)),[2])}))}))},t.prototype.clearSelection=function(){return h(this,void 0,void 0,(function(){return d(this,(function(t){return this.setSelection(null),[2]}))}))},t.prototype.xFormatter=function(t){return h(this,void 0,void 0,(function(){return d(this,(function(e){return[2,this._xFormatter(t)]}))}))},t.prototype.componentDidLoad=function(){var t=this;this._color=this._toColor(this.color,u.f),this._barBackgroundColor=this._toColor(this.unselectedColor,u.g),this._hasDataToDisplay()&&(this.isCategoricalData=G(this._data),requestAnimationFrame((function(){t._renderGraph()})))},t.prototype.componentDidUpdate=function(){this._dataJustChanged&&(this._renderGraph(),this._dataJustChanged=!1)},t.prototype.componentWillLoad=function(){addEventListener("resize",this._resizeRender),this._firstDataSupplied=Boolean(this.data&&this.data.length),this.selectionFooter=this.selectedFormatter(this.selection),this._onBackgroundDataChanged(this.backgroundData),this.onNewData(this.data,null)},t.prototype.componentDidUnload=function(){removeEventListener("resize",this._resizeRender)},t.prototype.render=function(){return this._isLoading()?Object(i.f)("as-histogram-widget-placeholder",null,this._renderHeader()):[this._renderHeader(),this._renderSelection(),this._renderContent()]},t.prototype._resizeRender=function(){var t=this;requestAnimationFrame((function(){t._renderGraph()}))},t.prototype._renderContent=function(){var t=this,e={"as-histogram-widget--categorical":this.isCategoricalData,"as-histogram-widget__wrapper":!0,"as-histogram-widget__wrapper--disabled":this.disableInteractivity},r={figure:!0,"figure--has-x-label":!!this.xLabel,"figure--has-y-label":!!this.yLabel};return Object(n.a)(this._isLoading(),this.error,this._isEmpty(),this.heading,this.errorDescription,this.noDataBodyMessage,Object(i.f)("div",{class:e},Object(i.f)("svg",{class:r,ref:function(e){return t.container=Object(s.u)(e)}}),this._renderLabels(),this._renderTooltip()))},t.prototype._mockBackgroundData=function(t){var e=U.getLowerBounds(t);return t.map((function(t){return Object.assign({},t,{value:Math.max(0,e)})}))},t.prototype._selectionFormatter=function(t){if(null===t)return"All selected";if(this.isCategoricalData)return t[1]-t[0]+" selected";var e,r=t.map(this.binsScale.invert);return"Selected from "+(e=this.axisFormatter?r.map(this.axisFormatter):r.map((function(t){return""+$(t)})))[0]+" to "+e[1]},t.prototype._renderSelection=function(){var t=this;return this._isLoading()||this._isEmpty()||this.error||!this.showClear?"":Object(i.f)("as-widget-selection",{selection:this.selectionFooter,clearText:this.clearText,showClear:!this.selectionEmpty,onClear:function(){return t.clearSelection()}})},t.prototype._renderGraph=function(){var t=this;if(this.container&&this.container.node()){var e=this.container.node().getBoundingClientRect(),r=void 0===this.prevWidth||void 0===this.prevHeight;this.prevWidth=this.width,this.prevHeight=this.height,this.width=e.width,this.height=e.height;var i=!r&&(this.prevWidth!==this.width||this.height!==this.prevHeight);0!==this.height&&0!==this.width&&(this._generateYAxis(),this._renderXAxis(),this.barsContainer=tt.renderPlot(this.container),it.addTooltip(this.container,this.barsContainer,this,this._color,this._barBackgroundColor,(function(e){return t.tooltipFormatter(e)}),this._setTooltip,"foreground-bar"),tt.renderBars(this._backgroundData,this.yScale,this.container,this.barsContainer,this._barBackgroundColor,38+(this.yLabel?25:0),40,this.disableAnimation||i,"background-bar"),tt.renderBars(this._data,this.yScale,this.container,this.barsContainer,this._color,38+(this.yLabel?25:0),40,this.disableAnimation||i,"foreground-bar"),tt.renderYAxis(this.container,this.yAxis,38),this.disableInteractivity||(this.brush=P.addBrush(this.width,this.height,this._onBrush.bind(this),this._onBrushEnd.bind(this),8,20,38+(this.yLabel?25:0),40),this.brushArea=P.addBrushArea(this.brush,this.container),this.customHandles=P.addCustomHandles(this.brushArea,8,20,this.yScale)),this._updateSelection(),this.drawParametersChanged.emit({binsScale:this.binsScale,container:this.container,handleWidth:8,height:this.height,padding:[38+(this.yLabel?25:0),40],width:this.width,xScale:this.xScale}),this._muteSelectionChanged=!1)}},t.prototype._setTooltip=function(t,e){null!==t?(this.tooltip=t,this._showTooltip(e)):this._hideTooltip()},t.prototype._updateSelection=function(){null===this.selection||this.disableInteractivity||(this._selectionInData(this.selection)?this._setSelection(this.selection):this.clearSelection())},t.prototype._adjustSelection=function(t){var e=this;return null===t?null:t.map((function(t){return e._adjustSelectionValue(t)}))},t.prototype._adjustSelectionValue=function(t){return t<0?0:t>=this._data.length?this._data.length:Math.round(t)},t.prototype._hideCustomHandles=function(){this.customHandles.style("opacity",0),this.brushArea.selectAll(".bottomline").style("opacity",0)},t.prototype._onBrush=function(){var t=this;if(!this.disableInteractivity){var e=s.g;if(null!==e.selection){if(e.sourceEvent&&"brush"!==e.sourceEvent.type){var r=e.selection.map((function(e){return t.xScale.invert(e)}));this._setSelection(r)}}else this._hideCustomHandles()}},t.prototype._onBrushEnd=function(){this.disableInteractivity||this._muteSelectionChanged||this.emitSelection(this.selectionChanged,this.selection)},t.prototype._setSelection=function(t){if(!this.disableInteractivity){var e=this._adjustSelection(t);if(null===e||e[0]!==e[1]){var r=null!==this.selection&&null!==e&&this.selection.every((function(t,r){return e[r]===t}));this.selection=e,this._updateHandles(e),r||(this._hideTooltip(),this.emitSelection(this.selectionInput,this.selection)),this.selectionEmpty=null===this.selection,this.selectionFooter=this.selectedFormatter(this.selection)}}},t.prototype._preadjustSelection=function(t,e,r){var i=this;if(!t||!this.selection)return this.selection;if(this.isCategoricalData){var n=this._simplifySelection(this._dataForSelection(this.selection,t)).map((function(t){return i._data.findIndex((function(e){return e.category===t}))}));return n.some((function(t){return-1===t}))?null:[n[0],n[n.length-1]+1]}var o=this._simplifySelection(this._dataForSelection(this.selection,t)).map(e).map(Math.round);return[Math.max(0,o[0]),Math.min(r,o[1])]},t.prototype._dataForSelection=function(t,e){if(null===t)return null;var r=void 0!==e?e:this.data;return this.isCategoricalData?r.slice(t[0],t[1]).map((function(t){return t})):[r[t[0]],r[t[1]-1]]},t.prototype._simplifySelection=function(t){return null===t?null:this.isCategoricalData?t.map((function(t){return t.category})):[t[0].start,t[t.length-1].end]},t.prototype._sameSelection=function(t,e){return null!==t&&null!==e&&(t[0]===e[0]&&t[1]===e[1])},t.prototype.emitSelection=function(t,e){if(!this._sameSelection(e,this._lastEmittedSelection))if(null!==e){var r=this._dataForSelection(e),i={payload:r,selection:this._simplifySelection(r),type:this._eventType()};t.emit(i),t===this.selectionChanged&&(this._lastEmittedSelection=[e[0],e[1]])}else t.emit(null)},t.prototype._eventType=function(){return this.isCategoricalData?"categorical":"continuous"},t.prototype._selectionInData=function(t){var e=this;return t.map(this.binsScale.invert).map((function(t){return e._data.some((function(e){return t>=e.start&&t<=e.end}))})).some((function(t){return t}))},t.prototype._updateHandles=function(t){var e=this;if(this.xScale){if(null===t)return this.barsContainer.selectAll("rect.foreground-bar").style("fill",(function(t,r){return e._data[r].color||e._color})),void this.brushArea.call(this.brush.move,null);var r=this.yScale(this.yScale.domain()[0]),i=t.map(this.xScale);this.brushArea.call(this.brush.move,i),this.customHandles.style("opacity",1).attr("transform",(function(t,e){return"translate("+(i[e]-4-1)+","+(r-10)+")"})),this.brushArea.selectAll(".bottomline").style("opacity",1).attr("stroke-width",2).attr("x1",i[0]).attr("x2",i[1]),this.barsContainer.selectAll("rect.foreground-bar").style("fill",(function(r,i){var n=e._data[i];if(n)return i<t[0]||i>=t[1]?e._barBackgroundColor:n.color||e._color}))}},t.prototype._dataForDomain=function(){return Math.max.apply(window,this._data.map((function(t){return t.value})))>Math.max.apply(window,this._backgroundData.map((function(t){return t.value})))?this._data:this._backgroundData},t.prototype._generateYAxis=function(){var t=null!==this.range?this.range:U.getYDomain(this._dataForDomain());this.yAxis=tt.generateYScale(this.container,t,38+(this.yLabel?25:0),40,this.yAxisOptions),this.yScale=this.yAxis.scale()},t.prototype._renderXAxis=function(){var t=U.getXDomain(this._data),e=tt.renderXAxis(this.container,t,this._data.length,38+(this.yLabel?25:0),40,this.axisFormatter,this.xAxisOptions);this.xScale=e.scale()},t.prototype._showTooltip=function(t){this.tooltipElement&&Object(s.u)(this.tooltipElement).style("display","inline").style("left",t.left+t.width/2+"px").style("top",t.top+"px")},t.prototype._hideTooltip=function(){Object(s.u)(this.tooltipElement).style("display","none")},t.prototype._renderHeader=function(){if(this.showHeader)return Object(i.f)("as-widget-header",{header:this.heading,subheader:this.description,"is-loading":this._isLoading(),"is-empty":this._isEmpty(),error:this.error,"no-data-message":this.noDataHeaderMessage})},t.prototype._renderTooltip=function(){var t=this;return Object(i.f)("span",{ref:function(e){return t.tooltipElement=e},role:"tooltip",class:"as-tooltip as-tooltip--top"},this._parseTooltip(this.tooltip))},t.prototype._parseTooltip=function(t){var e=this;return null===t?null:Array.isArray(t)?t.map((function(t){return e._renderTooltipLine(t)})):this._renderTooltipLine(t)},t.prototype._renderTooltipLine=function(t){return Object(i.f)("div",null,t)},t.prototype._renderLabels=function(){return[this.yLabel?Object(i.f)("div",{class:"y-label"},this.yLabel):"",this.xLabel?Object(i.f)("div",{class:"x-label"},this.xLabel):""]},t.prototype._toColor=function(t,e){if(t.startsWith("var(")){var r=t.match(/var\(([^,\)]+)(,.+)?\)/);if(null===r)return e;var i=r[1],n=(r[2]||"").replace(",","").trim(),o=getComputedStyle(this.el).getPropertyValue(i).toLowerCase().trim();return 0===o.length?0===n.length?e:n:o}return t},t.prototype._isLoading=function(){return(!this._firstDataSupplied||this.isLoading)&&!this.error},t.prototype._isEmpty=function(){return this._data&&!this._data.length},t.prototype._hasDataToDisplay=function(){return!(this._isLoading()||this._isEmpty()||this.error)},t.prototype.formatter=function(t){var e=[];return this.isCategoricalData?e.push(""+t.category):e.push(this._xFormatter(t.start)+" - "+this._xFormatter(t.end)),e.push(""+Object(o.a)(t.value).trim()),e},t.prototype._xFormatter=function(t){return this.axisFormatter?this.axisFormatter(t):$(t)},Object.defineProperty(t.prototype,"el",{get:function(){return Object(i.e)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"watchers",{get:function(){return{backgroundData:["_onBackgroundDataChanged"],data:["_onDataChanged"],color:["_onColorChanged"],unselectedColor:["_onSelectedColorChanged"]}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return'.as-tooltip{--as--tooltip--background-color:var(--as--color--type-01,#2c2c2c);--as--tooltip--color:var(--as--color--text-contrast,#fff);--as--tooltip--support-color:var(--as--color--white,#fff);--as--tooltip--primary--background-color:var(--as--primary--success,#1785fb);--as--tooltip--primary--color:var(--as--tooltip--support-color);--as--tooltip--secondary--background-color:var(--as--secondary--success,#0f2d53);--as--tooltip--secondary--color:var(--as--tooltip--support-color);--as--tooltip--complementary--background-color:var(--as--complementary--success,#47db99);--as--tooltip--complementary--color:var(--as--tooltip--support-color);--as--tooltip--error--background-color:var(--as--color--error,#f3522b);--as--tooltip--error-color:var(--as--tooltip--support-color);--as--tooltip--warning--background-color:var(--as--color--warning,#fdb32b);--as--tooltip--warning--color:var(--as--tooltip--support-color);--as--tooltip--success--background-color:var(--as--color--success,#80b622);--as--tooltip--success--color:var(--as--tooltip--support-color);display:-ms-inline-flexbox;display:inline-flex;position:relative;padding:4px 8px;border-width:0;border-radius:4px;border-color:var(--as--tooltip--background-color);background:var(--as--tooltip--background-color);color:var(--as--tooltip--color);font:var(--as--font--body)}.as-tooltip:after{content:"";position:absolute;border-width:5px;border-style:solid;border-radius:2px;border-color:inherit}.as-tooltip--top:after{top:100%;left:50%;-webkit-transform:translateY(-6px) translateX(-5px) rotate(45deg);transform:translateY(-6px) translateX(-5px) rotate(45deg)}.as-tooltip--bot:after,.as-tooltip--bottom:after{bottom:100%;left:50%;-webkit-transform:translateY(6px) translateX(-5px) rotate(45deg);transform:translateY(6px) translateX(-5px) rotate(45deg)}.as-tooltip--right:after{top:50%;left:0;-webkit-transform:translateY(-5px) translateX(-4px) rotate(45deg);transform:translateY(-5px) translateX(-4px) rotate(45deg)}.as-tooltip--left:after{top:50%;right:0;-webkit-transform:translateY(-4px) translateX(4px) rotate(45deg);transform:translateY(-4px) translateX(4px) rotate(45deg)}.as-tooltip--primary{border-color:var(--as--tooltip--primary--background-color);background:var(--as--tooltip--primary--background-color);color:var(--as--tooltip--primary--color)}.as-tooltip--secondary{border-color:var(--as--tooltip--secondary--background-color);background:var(--as--tooltip--secondary--background-color);color:var(--as--tooltip--secondary--color)}.as-tooltip--complementary{border-color:var(--as--tooltip--complementary--background-color);background:var(--as--tooltip--complementary--background-color);color:var(--as--tooltip--complementary--color)}.as-tooltip--error{border-color:var(--as--tooltip--error--background-color);background:var(--as--tooltip--error--background-color);color:var(--as--tooltip--error--color)}.as-tooltip--warning{border-color:var(--as--tooltip--warning--background-color);background:var(--as--tooltip--warning--background-color);color:var(--as--tooltip--warning--color)}.as-tooltip--success{border-color:var(--as--tooltip--success--background-color);background:var(--as--tooltip--success--background-color);color:var(--as--tooltip--success--color)}as-histogram-widget{--as--histogram-widget--background-color:var(--as--color--ui-01,#fff);--as--histogram-widget--figure--stroke-color:var(--as--color--secondary,#0f2d53);--as--histogram-widget--figure--text-color:var(--as--color--type-01,#2c2c2c);--as--histogram-widget--label-color:var(--as--color--type-01,#2c2c2c);--as--histogram-widget--label-font:var(--as--font--caption);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;min-width:228px;height:100%;max-height:100%;overflow:auto;background:var(--as--histogram-widget--background-color)}as-histogram-widget as-widget-header{padding-top:6px}as-histogram-widget .as-histogram-widget__wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;min-height:0}as-histogram-widget .as-histogram-widget--categorical .x-axis{opacity:0}as-histogram-widget .figure{-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex:1;flex:1;width:100%;min-height:0;padding:18px 8px 17px 30px;overflow:visible}as-histogram-widget .figure--has-x-label{margin-bottom:25px}as-histogram-widget .figure--has-y-label{padding-left:55px}as-histogram-widget .figure text{fill:var(--as--histogram-widget--figure--text-color)}as-histogram-widget .figure .brush .selection{stroke:none;fill:none}as-histogram-widget .figure .foreground-bar{cursor:pointer}as-histogram-widget .figure .y-axis{--widget-axis-text-color:var(--as--color--type-01,#2c2c2c);--widget-axis-line-color:var(--as--color--ui-05,#b3b3b3)}as-histogram-widget .figure .y-axis .tick text{width:30px;fill:var(--widget-axis-text-color);white-space:pre}as-histogram-widget .figure .y-axis .tick line{stroke:var(--widget-axis-line-color);opacity:.1}as-histogram-widget .figure .y-axis .tick line.zero{opacity:.5}as-histogram-widget .figure .x-axis .domain,as-histogram-widget .figure .x-axis .tick line,as-histogram-widget .figure .y-axis .domain{display:none}as-histogram-widget .figure .handle--wrapper{opacity:0}as-histogram-widget .figure .handle--custom{stroke-linecap:round;stroke:var(--as--histogram-widget--figure--stroke-color);fill:#fff;cursor:ew-resize;pointer-events:none}as-histogram-widget .figure .grab-line{stroke:#ccc}as-histogram-widget .figure .bottomline{stroke:var(--as--histogram-widget--figure--stroke-color)}as-histogram-widget .as-histogram-widget__wrapper--disabled svg .bar{cursor:inherit}as-histogram-widget .as-histogram-widget__footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;margin-top:8px}as-histogram-widget .as-histogram-widget__selection{margin:0}as-histogram-widget .x-label,as-histogram-widget .y-label{color:var(--as--histogram-widget--label-color);font:var(--as--histogram-widget--label-font);text-align:center}as-histogram-widget .x-label{position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}as-histogram-widget .y-label{position:absolute;top:50%;left:0;margin-left:4px;-webkit-transform:rotate(-90deg) translate(-50%);transform:rotate(-90deg) translate(-50%);-webkit-transform-origin:0 0;transform-origin:0 0}as-histogram-widget [role=tooltip]{display:none;position:fixed;-webkit-transform:translate(-50%,-120%);transform:translate(-50%,-120%);pointer-events:none}'},enumerable:!0,configurable:!0}),t}()}}]);
//# sourceMappingURL=8.2ccae0d4.chunk.js.map